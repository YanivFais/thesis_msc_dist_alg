<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MiXiM: TractorMobility Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TractorMobility Class Reference<br>
<small>
[<a class="el" href="a00306.html">mobility - modules handling the mobility of the hosts</a>]</small>
</h1><!-- doxytag: class="TractorMobility" --><!-- doxytag: inherits="BaseMobility" -->Tractor movement model. See NED file for more info.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="a00455.html">TractorMobility.h</a>&gt;</code>
<p>
Inherits <a class="el" href="a00018.html">BaseMobility</a>.
<p>
<div class="dynheader">
Collaboration diagram for TractorMobility:</div>
<div class="dynsection">
<p><center><img src="a01082.png" border="0" usemap="#a01083" alt="Collaboration graph"></center>
<map name="a01083">
<area shape="rect" href="a00018.html" title="Base module for all mobility modules." alt="" coords="5,5,101,32"><area shape="rect" href="a00050.html" title="Class for storing host positions." alt="" coords="125,5,181,32"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="a01084.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#5dc11ca4b22d7c70f796bf59b4a6ce3d">initialize</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes mobility model parameters.  <a href="#5dc11ca4b22d7c70f796bf59b4a6ce3d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#f256b0901220e52e8543eef9d8d3db0f">makeMove</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="a00097.html" title="Class to store object position and movement.">Move</a> the host.  <a href="#f256b0901220e52e8543eef9d8d3db0f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#899af9f3ee0f475a8e8a73e91f26aa00">fixIfHostGetsOutside</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Should be redefined in subclasses.  <a href="#899af9f3ee0f475a8e8a73e91f26aa00"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#20463824ee18b1e154b7da8f1b54a4bd">calculateXY</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maps d to (x,y) coordinates.  <a href="#20463824ee18b1e154b7da8f1b54a4bd"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">x1</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#83ba237fe5f2fb2bd686f290106f84ab">y1</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#174cd48f7f9a7de868d848cc1a06452f">x2</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#b33d9d4f561dc9b75a5a0e9706d37e50">y2</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">rectangle bounds of the field  <a href="#b33d9d4f561dc9b75a5a0e9706d37e50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#1e950f62991191bfb466299bab50af7d">dx</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#cdab59667c8052eef6e63551d384238c">dy</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">dimensions of the field  <a href="#cdab59667c8052eef6e63551d384238c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c">rows</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the number of rows that the tractor must take  <a href="#a1a0430caba5079fd1562bb529f2f39c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#b94b307d30843e181218ac70e2501beb">row_width</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the lenght and width of a row  <a href="#b94b307d30843e181218ac70e2501beb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#7784f22d14a54e52581144c37463123b">path_length</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#031728a3ac8ac5b6910cbb3b4a791832">position</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00050.html">Coord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe">targetPos</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Target position of the host.  <a href="#5d4e04853e1fa0444ff82189ef2240fe"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Tractor movement model. See NED file for more info. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Peterpaul Klein Haneveld </dd></dl>

<p>Definition at line <a class="el" href="a00455.html#l00032">32</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="20463824ee18b1e154b7da8f1b54a4bd"></a><!-- doxytag: member="TractorMobility::calculateXY" ref="20463824ee18b1e154b7da8f1b54a4bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TractorMobility::calculateXY           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maps d to (x,y) coordinates. 
<p>

<p>Definition at line <a class="el" href="a00454.html#l00078">78</a> of file <a class="el" href="a00454.html">TractorMobility.cc</a>.</p>

<p>References <a class="el" href="a00397.html#l00126">FWMath::floorToZero()</a>, <a class="el" href="a00341.html#l00112">BaseMobility::move</a>, <a class="el" href="a00455.html#l00042">path_length</a>, <a class="el" href="a00455.html#l00043">position</a>, <a class="el" href="a00455.html#l00040">row_length</a>, <a class="el" href="a00455.html#l00040">row_width</a>, <a class="el" href="a00455.html#l00038">rows</a>, <a class="el" href="a00401.html#l00061">Move::setDirection()</a>, <a class="el" href="a00395.html#l00275">Coord::setX()</a>, <a class="el" href="a00395.html#l00285">Coord::setY()</a>, <a class="el" href="a00401.html#l00048">Move::startPos</a>, <a class="el" href="a00401.html#l00054">Move::startTime</a>, <a class="el" href="a00455.html#l00046">targetPos</a>, <a class="el" href="a00455.html#l00036">x1</a>, <a class="el" href="a00455.html#l00036">y1</a>, and <a class="el" href="a00455.html#l00036">y2</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00030">initialize()</a>, and <a class="el" href="a00454.html#l00061">makeMove()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00079"></a>00079 {
<a name="l00080"></a>00080   <span class="comment">// update the position</span>
<a name="l00081"></a>00081   <a class="code" href="a00018.html#1034fe1aa236bfa5bc2ae4adf3de8da2" title="Stores the current position and move pattern of the host.">move</a>.<a class="code" href="a00097.html#84550b4f702ceed03c516754d17950f9" title="Start position of the host (in meters).">startPos</a> = <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083   <span class="comment">// calculate new target position</span>
<a name="l00084"></a>00084   <span class="keywordtype">bool</span> moving_away = fmod(<a class="code" href="a00139.html#031728a3ac8ac5b6910cbb3b4a791832">position</a> / <a class="code" href="a00139.html#7784f22d14a54e52581144c37463123b">path_length</a>, 2.0) &lt; 1.0;
<a name="l00085"></a>00085   <span class="keywordtype">double</span> path_position = fmod(<a class="code" href="a00139.html#031728a3ac8ac5b6910cbb3b4a791832">position</a>, (<a class="code" href="a00139.html#7784f22d14a54e52581144c37463123b">path_length</a>));
<a name="l00086"></a>00086   <span class="keywordtype">double</span> row_number = fmod(<a class="code" href="a00139.html#031728a3ac8ac5b6910cbb3b4a791832">position</a> / (<a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> + <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a>), <a class="code" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c" title="the number of rows that the tractor must take">rows</a> * 2);
<a name="l00087"></a>00087   <span class="comment">/* row position can be either in a row or on the edge, so</span>
<a name="l00088"></a>00088 <span class="comment">   * the range for row_position is [0, row_length + row_width)</span>
<a name="l00089"></a>00089 <span class="comment">   */</span>
<a name="l00090"></a>00090   <span class="keywordtype">double</span> row_position = fmod(path_position, (<a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> + <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a>));
<a name="l00091"></a>00091   <span class="keywordtype">bool</span> on_the_edge = row_position &gt;= <a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093   <span class="keywordflow">if</span> (moving_away) {
<a name="l00094"></a>00094     <span class="keywordflow">if</span> (on_the_edge) {
<a name="l00095"></a>00095       <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#d50ee89d2cd02af12bd03bd1178283dd">setX</a>(<a class="code" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">x1</a> + (fmod(row_number, 2.0) &lt; 1.0 ? <a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> : (0)));
<a name="l00096"></a>00096             <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#7a3693dcf50baf5125a9f805efeb1d07">setY</a>(<a class="code" href="a00139.html#83ba237fe5f2fb2bd686f290106f84ab">y1</a> + (<a class="code" href="a00069.html#db95c6d5b092b752dba10eddac28055d">FWMath::floorToZero</a>(row_number) * <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a> + row_position - <a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a>));
<a name="l00097"></a>00097     } <span class="keywordflow">else</span> {
<a name="l00098"></a>00098       <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#d50ee89d2cd02af12bd03bd1178283dd">setX</a>(<a class="code" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">x1</a> + (fmod(row_number, 2.0) &lt; 1.0 ? row_position : (<a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> - row_position)));
<a name="l00099"></a>00099       <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#7a3693dcf50baf5125a9f805efeb1d07">setY</a>(<a class="code" href="a00139.html#83ba237fe5f2fb2bd686f290106f84ab">y1</a> + (<a class="code" href="a00069.html#db95c6d5b092b752dba10eddac28055d">FWMath::floorToZero</a>(row_number) * <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a>));
<a name="l00100"></a>00100     }
<a name="l00101"></a>00101   } <span class="keywordflow">else</span> {
<a name="l00102"></a>00102     <span class="keywordflow">if</span> (on_the_edge) {
<a name="l00103"></a>00103       <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#d50ee89d2cd02af12bd03bd1178283dd">setX</a>(<a class="code" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">x1</a> + (fmod(row_number, 2.0) &lt; 1.0 ? <a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> : (0)));
<a name="l00104"></a>00104       <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#7a3693dcf50baf5125a9f805efeb1d07">setY</a>(<a class="code" href="a00139.html#b33d9d4f561dc9b75a5a0e9706d37e50" title="rectangle bounds of the field">y2</a> - ((<a class="code" href="a00069.html#db95c6d5b092b752dba10eddac28055d">FWMath::floorToZero</a>(row_number) - <a class="code" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c" title="the number of rows that the tractor must take">rows</a>) * <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a> + row_position - <a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a>));
<a name="l00105"></a>00105     } <span class="keywordflow">else</span> {
<a name="l00106"></a>00106       <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#d50ee89d2cd02af12bd03bd1178283dd">setX</a>(<a class="code" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">x1</a> + (fmod(row_number, 2.0) &lt; 1.0 ? row_position : (<a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> - row_position)));
<a name="l00107"></a>00107       <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>.<a class="code" href="a00050.html#7a3693dcf50baf5125a9f805efeb1d07">setY</a>(<a class="code" href="a00139.html#b33d9d4f561dc9b75a5a0e9706d37e50" title="rectangle bounds of the field">y2</a> - ((<a class="code" href="a00069.html#db95c6d5b092b752dba10eddac28055d">FWMath::floorToZero</a>(row_number) - <a class="code" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c" title="the number of rows that the tractor must take">rows</a>) * <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a>));
<a name="l00108"></a>00108     }
<a name="l00109"></a>00109   }
<a name="l00110"></a>00110 
<a name="l00111"></a>00111   <a class="code" href="a00018.html#1034fe1aa236bfa5bc2ae4adf3de8da2" title="Stores the current position and move pattern of the host.">move</a>.<a class="code" href="a00097.html#d9f0bcbe0844183858a9f9aac955dbb9">setDirection</a>(<a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>);
<a name="l00112"></a>00112   <a class="code" href="a00018.html#1034fe1aa236bfa5bc2ae4adf3de8da2" title="Stores the current position and move pattern of the host.">move</a>.<a class="code" href="a00097.html#cffecfba78dc80213910498f1afd7cb6" title="start time at which host started at startPos">startTime</a> = simTime();
<a name="l00113"></a>00113 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="899af9f3ee0f475a8e8a73e91f26aa00"></a><!-- doxytag: member="TractorMobility::fixIfHostGetsOutside" ref="899af9f3ee0f475a8e8a73e91f26aa00" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TractorMobility::fixIfHostGetsOutside           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Should be redefined in subclasses. 
<p>
Should invoke <a class="el" href="a00018.html#ae36006995d117a723134cbe1fee5e90" title="Main border handling function.">handleIfOutside()</a> and pass the references to the parameters to be modified.<p>
Additional action after border handling (such as choosing a new target position if the BorderPolicy is PLACERANDOMLY) should be implemented here.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd>HandleIfOutside </dd></dl>

<p>Reimplemented from <a class="el" href="a00018.html#cf49d9a33d055f987e4d978af8e3a30c">BaseMobility</a>.</p>

<p>Definition at line <a class="el" href="a00454.html#l00070">70</a> of file <a class="el" href="a00454.html">TractorMobility.cc</a>.</p>

<p>References <a class="el" href="a00340.html#l00587">BaseMobility::handleIfOutside()</a>, <a class="el" href="a00341.html#l00073">BaseMobility::RAISEERROR</a>, and <a class="el" href="a00455.html#l00046">targetPos</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00061">makeMove()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00071"></a>00071 {
<a name="l00072"></a>00072   <a class="code" href="a00050.html" title="Class for storing host positions.">Coord</a> dummy;
<a name="l00073"></a>00073   <span class="keywordtype">double</span> dum;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <a class="code" href="a00018.html#ae36006995d117a723134cbe1fee5e90" title="Main border handling function.">handleIfOutside</a>( <a class="code" href="a00018.html#b98fb8c368f0440f799b286082ab96928e407aa7afa91b56f22fa0288cf64800" title="stop the simulation with error">RAISEERROR</a>, <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>, dummy, dummy, dum );
<a name="l00076"></a>00076 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5dc11ca4b22d7c70f796bf59b4a6ce3d"></a><!-- doxytag: member="TractorMobility::initialize" ref="5dc11ca4b22d7c70f796bf59b4a6ce3d" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TractorMobility::initialize           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes mobility model parameters. 
<p>
Reads the parameters and initializes members. 
<p>Reimplemented from <a class="el" href="a00018.html#a89e41596faff0067340643acbab27d0">BaseMobility</a>.</p>

<p>Definition at line <a class="el" href="a00454.html#l00030">30</a> of file <a class="el" href="a00454.html">TractorMobility.cc</a>.</p>

<p>References <a class="el" href="a00454.html#l00078">calculateXY()</a>, <a class="el" href="a00455.html#l00037">dx</a>, <a class="el" href="a00455.html#l00037">dy</a>, <a class="el" href="a00341.html#l00112">BaseMobility::move</a>, <a class="el" href="a00455.html#l00042">path_length</a>, <a class="el" href="a00455.html#l00043">position</a>, <a class="el" href="a00455.html#l00040">row_length</a>, <a class="el" href="a00455.html#l00040">row_width</a>, <a class="el" href="a00455.html#l00038">rows</a>, <a class="el" href="a00401.html#l00058">Move::speed</a>, <a class="el" href="a00401.html#l00048">Move::startPos</a>, <a class="el" href="a00455.html#l00046">targetPos</a>, <a class="el" href="a00455.html#l00036">x1</a>, <a class="el" href="a00455.html#l00036">x2</a>, <a class="el" href="a00455.html#l00036">y1</a>, and <a class="el" href="a00455.html#l00036">y2</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00031"></a>00031 {
<a name="l00032"></a>00032   <a class="code" href="a00139.html#5dc11ca4b22d7c70f796bf59b4a6ce3d" title="Initializes mobility model parameters.">BaseMobility::initialize</a>(stage);
<a name="l00033"></a>00033 
<a name="l00034"></a>00034   EV &lt;&lt; <span class="stringliteral">"initializing TractorMobility stage "</span> &lt;&lt; stage &lt;&lt; endl;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036   <span class="keywordflow">if</span> (stage == 0)
<a name="l00037"></a>00037   {
<a name="l00038"></a>00038     <a class="code" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">x1</a> = par(<span class="stringliteral">"x1"</span>);
<a name="l00039"></a>00039     <a class="code" href="a00139.html#83ba237fe5f2fb2bd686f290106f84ab">y1</a> = par(<span class="stringliteral">"y1"</span>);
<a name="l00040"></a>00040     <a class="code" href="a00139.html#174cd48f7f9a7de868d848cc1a06452f">x2</a> = par(<span class="stringliteral">"x2"</span>);
<a name="l00041"></a>00041     <a class="code" href="a00139.html#b33d9d4f561dc9b75a5a0e9706d37e50" title="rectangle bounds of the field">y2</a> = par(<span class="stringliteral">"y2"</span>);
<a name="l00042"></a>00042     <a class="code" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c" title="the number of rows that the tractor must take">rows</a> = par(<span class="stringliteral">"rows"</span>);
<a name="l00043"></a>00043 
<a name="l00044"></a>00044     <a class="code" href="a00018.html#1034fe1aa236bfa5bc2ae4adf3de8da2" title="Stores the current position and move pattern of the host.">move</a>.<a class="code" href="a00097.html#c84984d8a41ce30da0a32b049ff07552">speed</a> = par(<span class="stringliteral">"speed"</span>);
<a name="l00045"></a>00045 
<a name="l00046"></a>00046     <a class="code" href="a00139.html#1e950f62991191bfb466299bab50af7d">dx</a> = <a class="code" href="a00139.html#174cd48f7f9a7de868d848cc1a06452f">x2</a>-<a class="code" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">x1</a>;
<a name="l00047"></a>00047     <a class="code" href="a00139.html#cdab59667c8052eef6e63551d384238c" title="dimensions of the field">dy</a> = <a class="code" href="a00139.html#b33d9d4f561dc9b75a5a0e9706d37e50" title="rectangle bounds of the field">y2</a>-<a class="code" href="a00139.html#83ba237fe5f2fb2bd686f290106f84ab">y1</a>;
<a name="l00048"></a>00048     <a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> = <a class="code" href="a00139.html#1e950f62991191bfb466299bab50af7d">dx</a>;
<a name="l00049"></a>00049     <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a> = <a class="code" href="a00139.html#cdab59667c8052eef6e63551d384238c" title="dimensions of the field">dy</a> / <a class="code" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c" title="the number of rows that the tractor must take">rows</a>;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051     <a class="code" href="a00139.html#7784f22d14a54e52581144c37463123b">path_length</a> = <a class="code" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c" title="the number of rows that the tractor must take">rows</a> * (<a class="code" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">row_length</a> + <a class="code" href="a00139.html#b94b307d30843e181218ac70e2501beb" title="the lenght and width of a row">row_width</a>);
<a name="l00052"></a>00052     <a class="code" href="a00139.html#031728a3ac8ac5b6910cbb3b4a791832">position</a> = 0.0;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054     <a class="code" href="a00139.html#20463824ee18b1e154b7da8f1b54a4bd" title="Maps d to (x,y) coordinates.">calculateXY</a>();
<a name="l00055"></a>00055 
<a name="l00056"></a>00056     <a class="code" href="a00018.html#1034fe1aa236bfa5bc2ae4adf3de8da2" title="Stores the current position and move pattern of the host.">move</a>.<a class="code" href="a00097.html#84550b4f702ceed03c516754d17950f9" title="Start position of the host (in meters).">startPos</a> = <a class="code" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe" title="Target position of the host.">targetPos</a>;
<a name="l00057"></a>00057   }
<a name="l00058"></a>00058 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f256b0901220e52e8543eef9d8d3db0f"></a><!-- doxytag: member="TractorMobility::makeMove" ref="f256b0901220e52e8543eef9d8d3db0f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TractorMobility::makeMove           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="a00097.html" title="Class to store object position and movement.">Move</a> the host. 
<p>

<p>Reimplemented from <a class="el" href="a00018.html#9774524fd5f2d3ef348dc67f2af0f491">BaseMobility</a>.</p>

<p>Definition at line <a class="el" href="a00454.html#l00061">61</a> of file <a class="el" href="a00454.html">TractorMobility.cc</a>.</p>

<p>References <a class="el" href="a00454.html#l00078">calculateXY()</a>, <a class="el" href="a00454.html#l00070">fixIfHostGetsOutside()</a>, <a class="el" href="a00341.html#l00112">BaseMobility::move</a>, <a class="el" href="a00455.html#l00043">position</a>, <a class="el" href="a00401.html#l00058">Move::speed</a>, and <a class="el" href="a00341.html#l00118">BaseMobility::updateInterval</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00062"></a>00062 {
<a name="l00063"></a>00063   <a class="code" href="a00139.html#031728a3ac8ac5b6910cbb3b4a791832">position</a> += <a class="code" href="a00018.html#1034fe1aa236bfa5bc2ae4adf3de8da2" title="Stores the current position and move pattern of the host.">move</a>.<a class="code" href="a00097.html#c84984d8a41ce30da0a32b049ff07552">speed</a> * <a class="code" href="a00018.html#f3cdd1192cfb8e70e53f36d03a20f1b5" title="Time interval (in seconds) to update the hosts position.">updateInterval</a>.dbl();
<a name="l00064"></a>00064 
<a name="l00065"></a>00065   <a class="code" href="a00139.html#20463824ee18b1e154b7da8f1b54a4bd" title="Maps d to (x,y) coordinates.">calculateXY</a>();
<a name="l00066"></a>00066 
<a name="l00067"></a>00067   <a class="code" href="a00139.html#899af9f3ee0f475a8e8a73e91f26aa00" title="Should be redefined in subclasses.">fixIfHostGetsOutside</a>();
<a name="l00068"></a>00068 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="1e950f62991191bfb466299bab50af7d"></a><!-- doxytag: member="TractorMobility::dx" ref="1e950f62991191bfb466299bab50af7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#1e950f62991191bfb466299bab50af7d">TractorMobility::dx</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00455.html#l00037">37</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cdab59667c8052eef6e63551d384238c"></a><!-- doxytag: member="TractorMobility::dy" ref="cdab59667c8052eef6e63551d384238c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#cdab59667c8052eef6e63551d384238c">TractorMobility::dy</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
dimensions of the field 
<p>

<p>Definition at line <a class="el" href="a00455.html#l00037">37</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7784f22d14a54e52581144c37463123b"></a><!-- doxytag: member="TractorMobility::path_length" ref="7784f22d14a54e52581144c37463123b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#7784f22d14a54e52581144c37463123b">TractorMobility::path_length</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00455.html#l00042">42</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="031728a3ac8ac5b6910cbb3b4a791832"></a><!-- doxytag: member="TractorMobility::position" ref="031728a3ac8ac5b6910cbb3b4a791832" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#031728a3ac8ac5b6910cbb3b4a791832">TractorMobility::position</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00455.html#l00043">43</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, <a class="el" href="a00454.html#l00030">initialize()</a>, and <a class="el" href="a00454.html#l00061">makeMove()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0566635ab764c7aabaa9d2fde260a7bb"></a><!-- doxytag: member="TractorMobility::row_length" ref="0566635ab764c7aabaa9d2fde260a7bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#0566635ab764c7aabaa9d2fde260a7bb">TractorMobility::row_length</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00455.html#l00040">40</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b94b307d30843e181218ac70e2501beb"></a><!-- doxytag: member="TractorMobility::row_width" ref="b94b307d30843e181218ac70e2501beb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#b94b307d30843e181218ac70e2501beb">TractorMobility::row_width</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the lenght and width of a row 
<p>

<p>Definition at line <a class="el" href="a00455.html#l00040">40</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a1a0430caba5079fd1562bb529f2f39c"></a><!-- doxytag: member="TractorMobility::rows" ref="a1a0430caba5079fd1562bb529f2f39c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#a1a0430caba5079fd1562bb529f2f39c">TractorMobility::rows</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the number of rows that the tractor must take 
<p>

<p>Definition at line <a class="el" href="a00455.html#l00038">38</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5d4e04853e1fa0444ff82189ef2240fe"></a><!-- doxytag: member="TractorMobility::targetPos" ref="5d4e04853e1fa0444ff82189ef2240fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00050.html">Coord</a> <a class="el" href="a00139.html#5d4e04853e1fa0444ff82189ef2240fe">TractorMobility::targetPos</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Target position of the host. 
<p>

<p>Definition at line <a class="el" href="a00455.html#l00046">46</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, <a class="el" href="a00454.html#l00070">fixIfHostGetsOutside()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e24110fa394186fc2e6cc3fe71fa00c8"></a><!-- doxytag: member="TractorMobility::x1" ref="e24110fa394186fc2e6cc3fe71fa00c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#e24110fa394186fc2e6cc3fe71fa00c8">TractorMobility::x1</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00455.html#l00036">36</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="174cd48f7f9a7de868d848cc1a06452f"></a><!-- doxytag: member="TractorMobility::x2" ref="174cd48f7f9a7de868d848cc1a06452f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#174cd48f7f9a7de868d848cc1a06452f">TractorMobility::x2</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00455.html#l00036">36</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="83ba237fe5f2fb2bd686f290106f84ab"></a><!-- doxytag: member="TractorMobility::y1" ref="83ba237fe5f2fb2bd686f290106f84ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#83ba237fe5f2fb2bd686f290106f84ab">TractorMobility::y1</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00455.html#l00036">36</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b33d9d4f561dc9b75a5a0e9706d37e50"></a><!-- doxytag: member="TractorMobility::y2" ref="b33d9d4f561dc9b75a5a0e9706d37e50" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00139.html#b33d9d4f561dc9b75a5a0e9706d37e50">TractorMobility::y2</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
rectangle bounds of the field 
<p>

<p>Definition at line <a class="el" href="a00455.html#l00036">36</a> of file <a class="el" href="a00455.html">TractorMobility.h</a>.</p>

<p>Referenced by <a class="el" href="a00454.html#l00078">calculateXY()</a>, and <a class="el" href="a00454.html#l00030">initialize()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>modules/mobility/<a class="el" href="a00455.html">TractorMobility.h</a><li>modules/mobility/<a class="el" href="a00454.html">TractorMobility.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 28 15:57:10 2009 for MiXiM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
