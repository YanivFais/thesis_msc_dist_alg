<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MiXiM: BaseDecider Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BaseDecider Class Reference<br>
<small>
[<a class="el" href="a00305.html">decider - decider modules</a>,&nbsp;<a class="el" href="a00309.html">baseModules - base module classes of MiXiM</a>]</small>
</h1><!-- doxytag: class="BaseDecider" --><!-- doxytag: inherits="Decider" -->Provides some base functionality for most common deciders.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="a00356.html">BaseDecider.h</a>&gt;</code>
<p>
Inherits <a class="el" href="a00052.html">Decider</a>.
<p>
Inherited by <a class="el" href="a00053.html">Decider80211</a>, and <a class="el" href="a00132.html">SNRThresholdDecider</a>.
<p>
<div class="dynheader">
Collaboration diagram for BaseDecider:</div>
<div class="dynsection">
<p><center><img src="a00756.png" border="0" usemap="#a00757" alt="Collaboration graph"></center>
<map name="a00757">
<area shape="rect" href="a00052.html" title="The basic Decider class." alt="" coords="21,5,85,32"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="a00758.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#cff4618fa7a9c2e9abf257e60e487de2">BaseDecider</a> (<a class="el" href="a00057.html">DeciderToPhyInterface</a> *<a class="el" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8">phy</a>, double <a class="el" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0">sensitivity</a>, int <a class="el" href="a00011.html#33e7f02028e78116193d09d6cdbc987e">myIndex</a>, bool <a class="el" href="a00011.html#a22cd5156240713e37578172ba5557ce">debug</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#486cd5548e3f75deff4dc9e3bd52fbb1">~BaseDecider</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#273892d7b0c9874e4efe3c7755aa7a17">processSignal</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes an AirFrame given by the <a class="el" href="a00109.html" title="Provides initialisation for several AnalogueModels and Deciders from modules directory...">PhyLayer</a>.  <a href="#273892d7b0c9874e4efe3c7755aa7a17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="a00037.html">ChannelState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#f471a55749109aacb99429b409ccb9c1">getChannelState</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A function that returns information about the channel state.  <a href="#f471a55749109aacb99429b409ccb9c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#fd31e5a65d1798d329ace9bdbec25d64">handleChannelSenseRequest</a> (ChannelSenseRequest *request)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called by the <a class="el" href="a00109.html" title="Provides initialisation for several AnalogueModels and Deciders from modules directory...">PhyLayer</a> to hand over a ChannelSenseRequest.  <a href="#fd31e5a65d1798d329ace9bdbec25d64"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b">SignalState</a> { <a class="el" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b3276f47da7417662597b21ee3afa2d31">NEW</a>, 
<a class="el" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90bf0a66719215a9be8335546666facaab6">EXPECT_HEADER</a>, 
<a class="el" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b5539b8e545c0676dab0b0efb80dfeeac">EXPECT_END</a>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::pair&lt; AirFrame <br class="typebreak">
*, int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#4b3ede0e569c778173b7e430d958f92a">ReceivedSignal</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pair of a AirFrame and the state it is in.  <a href="#4b3ede0e569c778173b7e430d958f92a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::pair<br class="typebreak">
&lt; ChannelSenseRequest <br class="typebreak">
*, simtime_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pair of a ChannelSenseRequest and the simtime it started.  <a href="#cf6221fc304163856f01b71710922cd3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#6a480f87157d0509c0c1fccf94ea9fef">processNewSignal</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes a new <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>. Returns the time it wants to handle the signal again.  <a href="#6a480f87157d0509c0c1fccf94ea9fef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#d931e0965c66fef10c9407d4abecbaf5">processSignalHeader</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes the end of the header of a received <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>.  <a href="#d931e0965c66fef10c9407d4abecbaf5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#b9cfef6c04e12d2524d45e881f341300">processSignalEnd</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes the end of a received <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>.  <a href="#b9cfef6c04e12d2524d45e881f341300"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#8a84e9ec29da8ec490d94dd7e68a6b04">processUnknownSignal</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes any <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a> for which no state could be found. (is an error case).  <a href="#8a84e9ec29da8ec490d94dd7e68a6b04"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#a41d7cb370ba4069108ede77732b3bc8">getSignalState</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the SignalState for the passed AirFrame.  <a href="#a41d7cb370ba4069108ede77732b3bc8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#1dba383c238fba606279ef483b435f78">handleNewSenseRequest</a> (ChannelSenseRequest *request)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles a new incoming ChannelSenseRequest and returns the next (or latest) time to handle the request again.  <a href="#1dba383c238fba606279ef483b435f78"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#04331dd4b050ca2bc431254a15eee174">handleSenseRequestTimeout</a> (<a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;requestInfo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles the timeout of a ChannelSenseRequest by calculating the <a class="el" href="a00037.html" title="Provides information about the current state of the channel:.">ChannelState</a> and returning the request to the mac layer.  <a href="#04331dd4b050ca2bc431254a15eee174"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#e535b44e34061014fe282c36c27b0193">setChannelIdleStatus</a> (bool isIdle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes the "isIdle"-status to the passed value.  <a href="#e535b44e34061014fe282c36c27b0193"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#685497c4babb03a50b8967fb7505acc0">canAnswerCSR</a> (const <a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;requestInfo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the ChannelSenseRequest of the passed CSRInfo can be answered (e.g. because channel state changed or timeout is reached).  <a href="#685497c4babb03a50b8967fb7505acc0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#f326e85e885a64d5deea135dc4bcdb85">calcChannelSenseRSSI</a> (<a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;requestInfo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates the RSSI value for the passed ChannelSenseRequest.  <a href="#f326e85e885a64d5deea135dc4bcdb85"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#b8e925001d1f8630338c50f8ec10bb0d">answerCSR</a> (<a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;requestInfo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Answers the ChannelSenseRequest (CSR) from the passed CSRInfo.  <a href="#b8e925001d1f8630338c50f8ec10bb0d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="a00092.html">Mapping</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#bac709d59f48d292f147919854c002e2">calculateSnrMapping</a> (AirFrame *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a SNR-Mapping for a <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>.  <a href="#bac709d59f48d292f147919854c002e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="a00092.html">Mapping</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#11e802adb6060617d7357d308d3b2cdb">calculateRSSIMapping</a> (simtime_t start, simtime_t end, AirFrame *exclude=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a RSSI-Mapping (or Noise-Strength-Mapping) for a <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>.  <a href="#11e802adb6060617d7357d308d3b2cdb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0">sensitivity</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sensitivity value for receiving an AirFrame  <a href="#5eece8bf532f92912ccbd0a3bc4d6fb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00011.html#4b3ede0e569c778173b7e430d958f92a">ReceivedSignal</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3">currentSignal</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the currently received AirFrame  <a href="#22e578e992fab5ab54fe5fcdf196d9e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d">isChannelIdle</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores the idle state of the channel.  <a href="#535bb5ab48036db02bed8fcf5c4e415d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e">currentChannelSenseRequest</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the currently running ChannelSenseRequest and its start-time  <a href="#c6cd60e58a8a557ed511f8193ced4f7e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#33e7f02028e78116193d09d6cdbc987e">myIndex</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">index for this Decider-instance given by Phy-Layer (mostly Host-index) default-value for myIndex is -1, i.e. no parameter passed to constructor-call  <a href="#33e7f02028e78116193d09d6cdbc987e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html#a22cd5156240713e37578172ba5557ce">debug</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">toggles display of debugging messages  <a href="#a22cd5156240713e37578172ba5557ce"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provides some base functionality for most common deciders. 
<p>
Forwards the AirFrame from "processSignal" to "processNewSignal", "processSignalHeader" or "processSignalEnd" depending on the state for that AirFrame returned by "getSignalState".<p>
Provides answering of ChannelSenseRequests (instantaneous and over time).<p>
Subclasses should define when they consider the channel as idle by calling "setChannelIdleStatus" because <a class="el" href="a00011.html" title="Provides some base functionality for most common deciders.">BaseDecider</a> uses that to answer ChannelSenseRequests.<p>
If a subclassing <a class="el" href="a00052.html" title="The basic Decider class.">Decider</a> only tries to receive one signal at a time it can use BaseDeciders "currentSignal" member which is a pair of the signal to receive and the state for that signal. The state is then used by BaseDeciders "getSignalState" to decide to which "process***" method to forward the signal. If a subclassing <a class="el" href="a00052.html" title="The basic Decider class.">Decider</a> needs states for more than one <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a> it has to store these states by itself and should probably override the "getSignalState" method. 
<p>Definition at line <a class="el" href="a00356.html#l00040">40</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="cf6221fc304163856f01b71710922cd3"></a><!-- doxytag: member="BaseDecider::CSRInfo" ref="cf6221fc304163856f01b71710922cd3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;ChannelSenseRequest*, simtime_t&gt; <a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">BaseDecider::CSRInfo</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pair of a ChannelSenseRequest and the simtime it started. 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00061">61</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4b3ede0e569c778173b7e430d958f92a"></a><!-- doxytag: member="BaseDecider::ReceivedSignal" ref="4b3ede0e569c778173b7e430d958f92a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;AirFrame*, int&gt; <a class="el" href="a00011.html#4b3ede0e569c778173b7e430d958f92a">BaseDecider::ReceivedSignal</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pair of a AirFrame and the state it is in. 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00052">52</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="e4acbca8f960e9c49379ae2a82e2d90b"></a><!-- doxytag: member="BaseDecider::SignalState" ref="e4acbca8f960e9c49379ae2a82e2d90b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b">BaseDecider::SignalState</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e4acbca8f960e9c49379ae2a82e2d90b3276f47da7417662597b21ee3afa2d31"></a><!-- doxytag: member="NEW" ref="e4acbca8f960e9c49379ae2a82e2d90b3276f47da7417662597b21ee3afa2d31" args="" -->NEW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4acbca8f960e9c49379ae2a82e2d90bf0a66719215a9be8335546666facaab6"></a><!-- doxytag: member="EXPECT_HEADER" ref="e4acbca8f960e9c49379ae2a82e2d90bf0a66719215a9be8335546666facaab6" args="" -->EXPECT_HEADER</em>&nbsp;</td><td>
<a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a> is received the first time. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4acbca8f960e9c49379ae2a82e2d90b5539b8e545c0676dab0b0efb80dfeeac"></a><!-- doxytag: member="EXPECT_END" ref="e4acbca8f960e9c49379ae2a82e2d90b5539b8e545c0676dab0b0efb80dfeeac" args="" -->EXPECT_END</em>&nbsp;</td><td>
Waiting for the header of the signal. </td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="a00356.html#l00042">42</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00042"></a>00042                   {
<a name="l00043"></a>00043     <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b3276f47da7417662597b21ee3afa2d31">NEW</a>,      
<a name="l00044"></a>00044     <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90bf0a66719215a9be8335546666facaab6" title="Signal is received the first time.">EXPECT_HEADER</a>,  
<a name="l00045"></a>00045     <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b5539b8e545c0676dab0b0efb80dfeeac" title="Waiting for the header of the signal.">EXPECT_END</a>,   
<a name="l00046"></a>00046   };
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="cff4618fa7a9c2e9abf257e60e487de2"></a><!-- doxytag: member="BaseDecider::BaseDecider" ref="cff4618fa7a9c2e9abf257e60e487de2" args="(DeciderToPhyInterface *phy, double sensitivity, int myIndex, bool debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseDecider::BaseDecider           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00057.html">DeciderToPhyInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>phy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>sensitivity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>myIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>debug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00356.html#l00074">74</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>References <a class="el" href="a00356.html#l00064">currentChannelSenseRequest</a>, <a class="el" href="a00356.html#l00055">currentSignal</a>, and <a class="el" href="a00356.html#l00043">NEW</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00074"></a>00074                                                                                       :
<a name="l00075"></a>00075     <a class="code" href="a00052.html#771545ad005ad69bef78b53fa831a7e2" title="Initializes the Decider with a pointer to its PhyLayer.">Decider</a>(phy),
<a name="l00076"></a>00076     <a class="code" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0" title="sensitivity value for receiving an AirFrame">sensitivity</a>(<a class="code" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0" title="sensitivity value for receiving an AirFrame">sensitivity</a>),
<a name="l00077"></a>00077     <a class="code" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d" title="Stores the idle state of the channel.">isChannelIdle</a>(<span class="keyword">true</span>),
<a name="l00078"></a>00078     <a class="code" href="a00011.html#33e7f02028e78116193d09d6cdbc987e" title="index for this Decider-instance given by Phy-Layer (mostly Host-index) default-value...">myIndex</a>(<a class="code" href="a00011.html#33e7f02028e78116193d09d6cdbc987e" title="index for this Decider-instance given by Phy-Layer (mostly Host-index) default-value...">myIndex</a>),
<a name="l00079"></a>00079     <a class="code" href="a00011.html#a22cd5156240713e37578172ba5557ce" title="toggles display of debugging messages">debug</a>(<a class="code" href="a00011.html#a22cd5156240713e37578172ba5557ce" title="toggles display of debugging messages">debug</a>)
<a name="l00080"></a>00080   {
<a name="l00081"></a>00081     <a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.first = 0;
<a name="l00082"></a>00082     <a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.second = <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b3276f47da7417662597b21ee3afa2d31">NEW</a>;
<a name="l00083"></a>00083     <a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a> = std::pair&lt;ChannelSenseRequest*, simtime_t&gt;(0, -1);
<a name="l00084"></a>00084   }

</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="486cd5548e3f75deff4dc9e3bd52fbb1"></a><!-- doxytag: member="BaseDecider::~BaseDecider" ref="486cd5548e3f75deff4dc9e3bd52fbb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual BaseDecider::~BaseDecider           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00356.html#l00086">86</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00086"></a>00086 {}
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b8e925001d1f8630338c50f8ec10bb0d"></a><!-- doxytag: member="BaseDecider::answerCSR" ref="b8e925001d1f8630338c50f8ec10bb0d" args="(CSRInfo &amp;requestInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseDecider::answerCSR           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>requestInfo</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Answers the ChannelSenseRequest (CSR) from the passed CSRInfo. 
<p>
Calculates the rssi value and the channel idle state and sends the CSR together with the result back to the mac layer. 
<p>Definition at line <a class="el" href="a00355.html#l00182">182</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00355.html#l00168">calcChannelSenseRSSI()</a>, <a class="el" href="a00356.html#l00058">isChannelIdle</a>, <a class="el" href="a00364.html#l00072">Decider::phy</a>, and <a class="el" href="a00057.html#14d6506f37de87b057084c01295d5e8c">DeciderToPhyInterface::sendControlMsg()</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00106">handleNewSenseRequest()</a>, <a class="el" href="a00355.html#l00125">handleSenseRequestTimeout()</a>, and <a class="el" href="a00355.html#l00136">setChannelIdleStatus()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00182"></a>00182                                                 {
<a name="l00183"></a>00183 
<a name="l00184"></a>00184   <span class="keywordtype">double</span> rssiValue = <a class="code" href="a00011.html#f326e85e885a64d5deea135dc4bcdb85" title="Calculates the RSSI value for the passed ChannelSenseRequest.">calcChannelSenseRSSI</a>(requestInfo);
<a name="l00185"></a>00185 
<a name="l00186"></a>00186   <span class="comment">//"findMax()" returns "-DBL_MAX" on empty mappings</span>
<a name="l00187"></a>00187   <span class="keywordflow">if</span> (rssiValue &lt; 0)
<a name="l00188"></a>00188     rssiValue = 0;
<a name="l00189"></a>00189 
<a name="l00190"></a>00190   <span class="comment">// put the sensing-result to the request and</span>
<a name="l00191"></a>00191   <span class="comment">// send it to the Mac-Layer as Control-message (via Interface)</span>
<a name="l00192"></a>00192   requestInfo.first-&gt;setResult( <a class="code" href="a00037.html" title="Provides information about the current state of the channel:.">ChannelState</a>(<a class="code" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d" title="Stores the idle state of the channel.">isChannelIdle</a>, rssiValue) );
<a name="l00193"></a>00193   <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#14d6506f37de87b057084c01295d5e8c" title="Called by the Decider to send a control message to the MACLayer.">sendControlMsg</a>(requestInfo.first);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195   requestInfo.first = 0;
<a name="l00196"></a>00196 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f326e85e885a64d5deea135dc4bcdb85"></a><!-- doxytag: member="BaseDecider::calcChannelSenseRSSI" ref="f326e85e885a64d5deea135dc4bcdb85" args="(CSRInfo &amp;requestInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BaseDecider::calcChannelSenseRSSI           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>requestInfo</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates the RSSI value for the passed ChannelSenseRequest. 
<p>
This method is called by <a class="el" href="a00011.html" title="Provides some base functionality for most common deciders.">BaseDecider</a> when it answers a ChannelSenseRequest and can be overridden by sub classing Deciders.<p>
Default implementation gets start of the request from the passed CSRInfo and end of the request from the current simulation time (because the request is answered now) and returns the maximum RSSI value inside that maximum. 
<p>Reimplemented in <a class="el" href="a00053.html#3d7bfccf1c3b199842ea44b7c00e70b2">Decider80211</a>.</p>

<p>Definition at line <a class="el" href="a00355.html#l00168">168</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00355.html#l00220">calculateRSSIMapping()</a>, <a class="el" href="a00372.html#l00219">MappingUtils::findMax()</a>, <a class="el" href="a00057.html#73660771f127a990489fb04da07ea39e">DeciderToPhyInterface::getSimTime()</a>, and <a class="el" href="a00364.html#l00072">Decider::phy</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00182">answerCSR()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00168"></a>00168                                                              {
<a name="l00169"></a>00169   simtime_t start = requestInfo.second;
<a name="l00170"></a>00170   simtime_t end = <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#73660771f127a990489fb04da07ea39e" title="Returns the current simulation time.">getSimTime</a>();
<a name="l00171"></a>00171 
<a name="l00172"></a>00172   <a class="code" href="a00092.html" title="Represents a changeable mapping (mathematical function) from at least time to double...">Mapping</a>* rssiMap = <a class="code" href="a00011.html#11e802adb6060617d7357d308d3b2cdb" title="Calculates a RSSI-Mapping (or Noise-Strength-Mapping) for a Signal.">calculateRSSIMapping</a>(start, end);
<a name="l00173"></a>00173 
<a name="l00174"></a>00174   <span class="comment">// the sensed RSSI-value is the maximum value between (and including) the interval-borders</span>
<a name="l00175"></a>00175   <span class="keywordtype">double</span> rssi = <a class="code" href="a00094.html#668f67af89ac8cda8542a268f3c48a33" title="Iterates over the passed mapping and returns value at the key entry with the highest...">MappingUtils::findMax</a>(*rssiMap, <a class="code" href="a00003.html" title="Defines an argument for a mapping.">Argument</a>(start), <a class="code" href="a00003.html" title="Defines an argument for a mapping.">Argument</a>(end));
<a name="l00176"></a>00176 
<a name="l00177"></a>00177   <span class="keyword">delete</span> rssiMap;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   <span class="keywordflow">return</span> rssi;
<a name="l00180"></a>00180 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="11e802adb6060617d7357d308d3b2cdb"></a><!-- doxytag: member="BaseDecider::calculateRSSIMapping" ref="11e802adb6060617d7357d308d3b2cdb" args="(simtime_t start, simtime_t end, AirFrame *exclude=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00092.html">Mapping</a> * BaseDecider::calculateRSSIMapping           </td>
          <td>(</td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>exclude</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a RSSI-Mapping (or Noise-Strength-Mapping) for a <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>. 
<p>
This method can be used to calculate a RSSI-Mapping in case the parameter exclude is omitted OR to calculate a Noise-Strength-Mapping in case the AirFrame of the received <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a> is passed as parameter exclude. 
<p>Definition at line <a class="el" href="a00355.html#l00220">220</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00372.html#l00168">MappingUtils::add()</a>, <a class="el" href="a00372.html#l00091">MappingUtils::createMapping()</a>, <a class="el" href="a00356.html#l00013">debugEV</a>, <a class="el" href="a00057.html#79da727975ae1053da37157f13a08b25">DeciderToPhyInterface::getChannelInfo()</a>, <a class="el" href="a00379.html#l00202">Signal::getReceivingPower()</a>, <a class="el" href="a00378.html#l00115">Signal::getSignalLength()</a>, <a class="el" href="a00378.html#l00111">Signal::getSignalStart()</a>, <a class="el" href="a00057.html#be550ca86568314b6dbcdc5d835f2178">DeciderToPhyInterface::getThermalNoise()</a>, <a class="el" href="a00364.html#l00072">Decider::phy</a>, and <a class="el" href="a00371.html#l00162">DimensionSet::timeDomain</a>.</p>

<p>Referenced by <a class="el" href="a00458.html#l00048">Decider80211::calcChannelSenseRSSI()</a>, <a class="el" href="a00355.html#l00168">calcChannelSenseRSSI()</a>, <a class="el" href="a00355.html#l00198">calculateSnrMapping()</a>, and <a class="el" href="a00355.html#l00072">getChannelState()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00223"></a>00223 {
<a name="l00224"></a>00224   <span class="keywordflow">if</span>(exclude)
<a name="l00225"></a>00225     <a class="code" href="a00179.html#43107a17c21e08a3b52d6957f01d3987">debugEV</a> &lt;&lt; <span class="stringliteral">"Creating RSSI map excluding AirFrame with id "</span> &lt;&lt; exclude-&gt;getId() &lt;&lt; endl;
<a name="l00226"></a>00226   <span class="keywordflow">else</span>
<a name="l00227"></a>00227     <a class="code" href="a00179.html#43107a17c21e08a3b52d6957f01d3987">debugEV</a> &lt;&lt; <span class="stringliteral">"Creating RSSI map."</span> &lt;&lt; endl;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229   <a class="code" href="a00052.html#6baab300e0bec90320dfe956c2d15a57" title="Defines what an AirFrameVector shall be here.">AirFrameVector</a> airFrames;
<a name="l00230"></a>00230 
<a name="l00231"></a>00231   <span class="comment">// collect all AirFrames that intersect with [start, end]</span>
<a name="l00232"></a>00232   <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#79da727975ae1053da37157f13a08b25" title="Fills the passed AirFrameVector with all AirFrames that intersect with the time interval...">getChannelInfo</a>(start, end, airFrames);
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   <span class="comment">//TODO: create a "MappingUtils:createMappingFrom()"-method and use it here instead</span>
<a name="l00235"></a>00235   <span class="comment">//of abusing the add method</span>
<a name="l00236"></a>00236   <span class="comment">// create an empty mapping</span>
<a name="l00237"></a>00237   <a class="code" href="a00092.html" title="Represents a changeable mapping (mathematical function) from at least time to double...">Mapping</a>* resultMap = <a class="code" href="a00094.html#df03a87cc02707bf9136b305fd795a6f" title="Returns an appropriate changeable Mapping with the specified domain and the specified...">MappingUtils::createMapping</a>(0.0, <a class="code" href="a00061.html#bf3b99a319deca6efc123ec52d77d867" title="Shortcut to a DimensionSet which only contains time.">DimensionSet::timeDomain</a>);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239   <span class="comment">//add thermal noise</span>
<a name="l00240"></a>00240   <a class="code" href="a00045.html" title="Represents a not changeable mapping (mathematical function) from domain with at least...">ConstMapping</a>* thermalNoise = <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#be550ca86568314b6dbcdc5d835f2178" title="Returns a Mapping which defines the thermal noise in the passed time frame (in mW)...">getThermalNoise</a>(start, end);
<a name="l00241"></a>00241   <span class="keywordflow">if</span>(thermalNoise) {
<a name="l00242"></a>00242     <a class="code" href="a00092.html" title="Represents a changeable mapping (mathematical function) from at least time to double...">Mapping</a>* tmp = resultMap;
<a name="l00243"></a>00243     resultMap = <a class="code" href="a00094.html#c118c86aad57a4fd1c55f4634fbeef87">MappingUtils::add</a>(*resultMap, *thermalNoise);
<a name="l00244"></a>00244     <span class="keyword">delete</span> tmp;
<a name="l00245"></a>00245   }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247   <span class="comment">// otherwise, iterate over all AirFrames (except exclude)</span>
<a name="l00248"></a>00248   <span class="comment">// and sum up their receiving-power-mappings</span>
<a name="l00249"></a>00249   AirFrameVector::iterator it;
<a name="l00250"></a>00250   <span class="keywordflow">for</span> (it = airFrames.begin(); it != airFrames.end(); it++)
<a name="l00251"></a>00251   {
<a name="l00252"></a>00252     <span class="comment">// the vector should not contain pointers to 0</span>
<a name="l00253"></a>00253     assert (*it != 0);
<a name="l00254"></a>00254 
<a name="l00255"></a>00255     <span class="comment">// if iterator points to exclude (that includes the default-case 'exclude == 0')</span>
<a name="l00256"></a>00256     <span class="comment">// then skip this AirFrame</span>
<a name="l00257"></a>00257     <span class="keywordflow">if</span> ( *it == exclude ) <span class="keywordflow">continue</span>;
<a name="l00258"></a>00258 
<a name="l00259"></a>00259     <span class="comment">// otherwise get the Signal and its receiving-power-mapping</span>
<a name="l00260"></a>00260     <a class="code" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>&amp; signal = (*it)-&gt;getSignal();
<a name="l00261"></a>00261 
<a name="l00262"></a>00262     <span class="comment">// backup pointer to result map</span>
<a name="l00263"></a>00263     <span class="comment">// Mapping* resultMapOld = resultMap;</span>
<a name="l00264"></a>00264 
<a name="l00265"></a>00265     <span class="comment">// TODO1.1: for testing purposes, for now we don't specify an interval</span>
<a name="l00266"></a>00266     <span class="comment">// and add the Signal's receiving-power-mapping to resultMap in [start, end],</span>
<a name="l00267"></a>00267     <span class="comment">// the operation Mapping::add returns a pointer to a new Mapping</span>
<a name="l00268"></a>00268 
<a name="l00269"></a>00269     <a class="code" href="a00045.html" title="Represents a not changeable mapping (mathematical function) from domain with at least...">ConstMapping</a>* recvPowerMap = signal.<a class="code" href="a00124.html#513b1abac0b04549585257f7f5f8ebea" title="Calculates and returns the receiving power of this Signal. Ownership of the returned...">getReceivingPower</a>();
<a name="l00270"></a>00270     assert(recvPowerMap);
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     <span class="comment">// Mapping* resultMapNew = Mapping::add( *(signal.getReceivingPower()), *resultMap, start, end );</span>
<a name="l00273"></a>00273 
<a name="l00274"></a>00274     <a class="code" href="a00179.html#43107a17c21e08a3b52d6957f01d3987">debugEV</a> &lt;&lt; <span class="stringliteral">"Adding mapping of Airframe with ID "</span> &lt;&lt; (*it)-&gt;getId()
<a name="l00275"></a>00275         &lt;&lt; <span class="stringliteral">". Starts at "</span> &lt;&lt; signal.<a class="code" href="a00124.html#67358914ffdd97d4c08c051e6849c500" title="Returns the point in time when the receiving of the Signal started.">getSignalStart</a>()
<a name="l00276"></a>00276         &lt;&lt; <span class="stringliteral">" and ends at "</span> &lt;&lt; signal.<a class="code" href="a00124.html#67358914ffdd97d4c08c051e6849c500" title="Returns the point in time when the receiving of the Signal started.">getSignalStart</a>() + signal.<a class="code" href="a00124.html#45626a4b652952d4b7d25b32164d417b" title="Returns the length of the signal transmission.">getSignalLength</a>() &lt;&lt; endl;
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <a class="code" href="a00092.html" title="Represents a changeable mapping (mathematical function) from at least time to double...">Mapping</a>* resultMapNew = <a class="code" href="a00094.html#c118c86aad57a4fd1c55f4634fbeef87">MappingUtils::add</a>( *recvPowerMap, *resultMap, 0.0 );
<a name="l00279"></a>00279 
<a name="l00280"></a>00280     <span class="comment">// discard old mapping</span>
<a name="l00281"></a>00281     <span class="keyword">delete</span> resultMap;
<a name="l00282"></a>00282     resultMap = resultMapNew;
<a name="l00283"></a>00283     resultMapNew = 0;
<a name="l00284"></a>00284   }
<a name="l00285"></a>00285 
<a name="l00286"></a>00286   <span class="keywordflow">return</span> resultMap;
<a name="l00287"></a>00287 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bac709d59f48d292f147919854c002e2"></a><!-- doxytag: member="BaseDecider::calculateSnrMapping" ref="bac709d59f48d292f147919854c002e2" args="(AirFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00092.html">Mapping</a> * BaseDecider::calculateSnrMapping           </td>
          <td>(</td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates a SNR-Mapping for a <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>. 
<p>
A Noise-Strength-Mapping is calculated (by using the "calculateRSSIMapping()"-method) for the time-interval of the <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a> and the Signal-Strength-Mapping is divided by the Noise-Strength-Mapping.<p>
Note: 'divided' means here the special element-wise operation on mappings. 
<p>Definition at line <a class="el" href="a00355.html#l00198">198</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00355.html#l00220">calculateRSSIMapping()</a>, <a class="el" href="a00372.html#l00163">MappingUtils::divide()</a>, <a class="el" href="a00379.html#l00202">Signal::getReceivingPower()</a>, <a class="el" href="a00378.html#l00115">Signal::getSignalLength()</a>, and <a class="el" href="a00378.html#l00111">Signal::getSignalStart()</a>.</p>

<p>Referenced by <a class="el" href="a00467.html#l00052">SNRThresholdDecider::processSignalEnd()</a>, and <a class="el" href="a00458.html#l00153">Decider80211::processSignalEnd()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00199"></a>00199 {
<a name="l00200"></a>00200   <span class="comment">/* calculate Noise-Strength-Mapping */</span>
<a name="l00201"></a>00201   <a class="code" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>&amp; signal = frame-&gt;getSignal();
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   simtime_t start = signal.<a class="code" href="a00124.html#67358914ffdd97d4c08c051e6849c500" title="Returns the point in time when the receiving of the Signal started.">getSignalStart</a>();
<a name="l00204"></a>00204   simtime_t end = start + signal.<a class="code" href="a00124.html#45626a4b652952d4b7d25b32164d417b" title="Returns the length of the signal transmission.">getSignalLength</a>();
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   <a class="code" href="a00092.html" title="Represents a changeable mapping (mathematical function) from at least time to double...">Mapping</a>* noiseMap = <a class="code" href="a00011.html#11e802adb6060617d7357d308d3b2cdb" title="Calculates a RSSI-Mapping (or Noise-Strength-Mapping) for a Signal.">calculateRSSIMapping</a>(start, end, frame);
<a name="l00207"></a>00207   assert(noiseMap);
<a name="l00208"></a>00208   <a class="code" href="a00045.html" title="Represents a not changeable mapping (mathematical function) from domain with at least...">ConstMapping</a>* recvPowerMap = signal.<a class="code" href="a00124.html#513b1abac0b04549585257f7f5f8ebea" title="Calculates and returns the receiving power of this Signal. Ownership of the returned...">getReceivingPower</a>();
<a name="l00209"></a>00209   assert(recvPowerMap);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211   <span class="comment">//TODO: handle noise of zero (must not devide with zero!)</span>
<a name="l00212"></a>00212   <a class="code" href="a00092.html" title="Represents a changeable mapping (mathematical function) from at least time to double...">Mapping</a>* snrMap = <a class="code" href="a00094.html#a5dc8572e5cb6fd9b90583f3bc18af05">MappingUtils::divide</a>( *recvPowerMap, *noiseMap, 0.0 );
<a name="l00213"></a>00213 
<a name="l00214"></a>00214   <span class="keyword">delete</span> noiseMap;
<a name="l00215"></a>00215   noiseMap = 0;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   <span class="keywordflow">return</span> snrMap;
<a name="l00218"></a>00218 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="685497c4babb03a50b8967fb7505acc0"></a><!-- doxytag: member="BaseDecider::canAnswerCSR" ref="685497c4babb03a50b8967fb7505acc0" args="(const CSRInfo &amp;requestInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BaseDecider::canAnswerCSR           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>requestInfo</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if the ChannelSenseRequest of the passed CSRInfo can be answered (e.g. because channel state changed or timeout is reached). 
<p>

<p>Definition at line <a class="el" href="a00355.html#l00146">146</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00057.html#73660771f127a990489fb04da07ea39e">DeciderToPhyInterface::getSimTime()</a>, <a class="el" href="a00356.html#l00058">isChannelIdle</a>, and <a class="el" href="a00364.html#l00072">Decider::phy</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00106">handleNewSenseRequest()</a>, and <a class="el" href="a00355.html#l00136">setChannelIdleStatus()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00147"></a>00147 {
<a name="l00148"></a>00148   <span class="keywordflow">if</span>(requestInfo.first == 0)
<a name="l00149"></a>00149     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151   <span class="keywordtype">bool</span> modeFulfilled = <span class="keyword">false</span>;
<a name="l00152"></a>00152 
<a name="l00153"></a>00153   <span class="keywordflow">switch</span>(requestInfo.first-&gt;getSenseMode())
<a name="l00154"></a>00154   {
<a name="l00155"></a>00155   <span class="keywordflow">case</span> UNTIL_IDLE:
<a name="l00156"></a>00156     modeFulfilled = <a class="code" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d" title="Stores the idle state of the channel.">isChannelIdle</a>;
<a name="l00157"></a>00157     <span class="keywordflow">break</span>;
<a name="l00158"></a>00158   <span class="keywordflow">case</span> UNTIL_BUSY:
<a name="l00159"></a>00159     modeFulfilled = !<a class="code" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d" title="Stores the idle state of the channel.">isChannelIdle</a>;
<a name="l00160"></a>00160     <span class="keywordflow">break</span>;
<a name="l00161"></a>00161   }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163   <span class="keywordflow">return</span> modeFulfilled                  <span class="comment">//CSR mode is fulfilled</span>
<a name="l00164"></a>00164        || (<a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#73660771f127a990489fb04da07ea39e" title="Returns the current simulation time.">getSimTime</a>() ==   requestInfo.second  <span class="comment">//or timeout is reached</span>
<a name="l00165"></a>00165                     + requestInfo.first-&gt;getSenseTimeout());
<a name="l00166"></a>00166 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f471a55749109aacb99429b409ccb9c1"></a><!-- doxytag: member="BaseDecider::getChannelState" ref="f471a55749109aacb99429b409ccb9c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00037.html">ChannelState</a> BaseDecider::getChannelState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A function that returns information about the channel state. 
<p>
It is an alternative for the MACLayer in order to obtain information immediately (in contrast to sending a ChannelSenseRequest, i.e. sending a cMessage over the OMNeT-control-channel) 
<p>Reimplemented from <a class="el" href="a00052.html#e8ada7aa9855a753d227547c6645fbc6">Decider</a>.</p>

<p>Definition at line <a class="el" href="a00355.html#l00072">72</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00355.html#l00220">calculateRSSIMapping()</a>, <a class="el" href="a00057.html#73660771f127a990489fb04da07ea39e">DeciderToPhyInterface::getSimTime()</a>, <a class="el" href="a00045.html#97c31dc272587421374f619089932a31">ConstMapping::getValue()</a>, <a class="el" href="a00356.html#l00058">isChannelIdle</a>, and <a class="el" href="a00364.html#l00072">Decider::phy</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00072"></a>00072                                           {
<a name="l00073"></a>00073 
<a name="l00074"></a>00074   simtime_t now = <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#73660771f127a990489fb04da07ea39e" title="Returns the current simulation time.">getSimTime</a>();
<a name="l00075"></a>00075   <a class="code" href="a00092.html" title="Represents a changeable mapping (mathematical function) from at least time to double...">Mapping</a>* rssiMap = <a class="code" href="a00011.html#11e802adb6060617d7357d308d3b2cdb" title="Calculates a RSSI-Mapping (or Noise-Strength-Mapping) for a Signal.">calculateRSSIMapping</a>(now, now);
<a name="l00076"></a>00076 
<a name="l00077"></a>00077   <span class="keywordtype">double</span> rssiValue = rssiMap-&gt;<a class="code" href="a00045.html#97c31dc272587421374f619089932a31" title="Returns the value of this Mapping at the position specified by the passed Argument...">getValue</a>(<a class="code" href="a00003.html" title="Defines an argument for a mapping.">Argument</a>(now));
<a name="l00078"></a>00078 
<a name="l00079"></a>00079   <span class="keyword">delete</span> rssiMap;
<a name="l00080"></a>00080   rssiMap = 0;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082   <span class="keywordflow">return</span> <a class="code" href="a00037.html" title="Provides information about the current state of the channel:.">ChannelState</a>(<a class="code" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d" title="Stores the idle state of the channel.">isChannelIdle</a>, rssiValue);
<a name="l00083"></a>00083 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a41d7cb370ba4069108ede77732b3bc8"></a><!-- doxytag: member="BaseDecider::getSignalState" ref="a41d7cb370ba4069108ede77732b3bc8" args="(AirFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseDecider::getSignalState           </td>
          <td>(</td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the SignalState for the passed AirFrame. 
<p>
The default implementation checks if the passed AirFrame is the "currentSignal" and returns its state or if not "NEW". 
<p>Definition at line <a class="el" href="a00355.html#l00129">129</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00356.html#l00055">currentSignal</a>, and <a class="el" href="a00356.html#l00043">NEW</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00010">processSignal()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00129"></a>00129                                                {
<a name="l00130"></a>00130   <span class="keywordflow">if</span>(frame == <a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.first)
<a name="l00131"></a>00131     <span class="keywordflow">return</span> <a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.second;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133   <span class="keywordflow">return</span> <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b3276f47da7417662597b21ee3afa2d31">NEW</a>;
<a name="l00134"></a>00134 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fd31e5a65d1798d329ace9bdbec25d64"></a><!-- doxytag: member="BaseDecider::handleChannelSenseRequest" ref="fd31e5a65d1798d329ace9bdbec25d64" args="(ChannelSenseRequest *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t BaseDecider::handleChannelSenseRequest           </td>
          <td>(</td>
          <td class="paramtype">ChannelSenseRequest *&nbsp;</td>
          <td class="paramname"> <em>request</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called by the <a class="el" href="a00109.html" title="Provides initialisation for several AnalogueModels and Deciders from modules directory...">PhyLayer</a> to hand over a ChannelSenseRequest. 
<p>
The MACLayer is able to send a ChannelSenseRequest to the <a class="el" href="a00109.html" title="Provides initialisation for several AnalogueModels and Deciders from modules directory...">PhyLayer</a> that calls this function with it and is returned a time point when to re-call this function with the specific ChannelSenseRequest.<p>
The <a class="el" href="a00052.html" title="The basic Decider class.">Decider</a> puts the result (<a class="el" href="a00037.html" title="Provides information about the current state of the channel:.">ChannelState</a>) to the ChannelSenseRequest and "answers" by calling the "sendControlMsg"-function on the <a class="el" href="a00057.html" title="This class is the interface for a Decider to the BasePhyLayer.">DeciderToPhyInterface</a>, i.e. telling the <a class="el" href="a00109.html" title="Provides initialisation for several AnalogueModels and Deciders from modules directory...">PhyLayer</a> to send it back. 
<p>Reimplemented from <a class="el" href="a00052.html#93548ff29f4d880ed488785509dd4dd9">Decider</a>.</p>

<p>Definition at line <a class="el" href="a00355.html#l00086">86</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00356.html#l00064">currentChannelSenseRequest</a>, <a class="el" href="a00355.html#l00106">handleNewSenseRequest()</a>, <a class="el" href="a00355.html#l00125">handleSenseRequestTimeout()</a>, and <a class="el" href="a00364.html#l00075">Decider::notAgain</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00086"></a>00086                                                                              {
<a name="l00087"></a>00087 
<a name="l00088"></a>00088   assert(request);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090   <span class="keywordflow">if</span> (<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>.first == 0)
<a name="l00091"></a>00091   {
<a name="l00092"></a>00092     <span class="keywordflow">return</span> <a class="code" href="a00011.html#1dba383c238fba606279ef483b435f78" title="Handles a new incoming ChannelSenseRequest and returns the next (or latest) time...">handleNewSenseRequest</a>(request);
<a name="l00093"></a>00093   }
<a name="l00094"></a>00094 
<a name="l00095"></a>00095   <span class="keywordflow">if</span> (<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>.first != request) {
<a name="l00096"></a>00096     opp_error(<span class="stringliteral">"Got a new ChannelSenseRequest while already handling another one!"</span>);
<a name="l00097"></a>00097     <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00098"></a>00098   }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100   <a class="code" href="a00011.html#04331dd4b050ca2bc431254a15eee174" title="Handles the timeout of a ChannelSenseRequest by calculating the ChannelState and...">handleSenseRequestTimeout</a>(<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102   <span class="comment">// say that we don't want to have it again</span>
<a name="l00103"></a>00103   <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00104"></a>00104 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1dba383c238fba606279ef483b435f78"></a><!-- doxytag: member="BaseDecider::handleNewSenseRequest" ref="1dba383c238fba606279ef483b435f78" args="(ChannelSenseRequest *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t BaseDecider::handleNewSenseRequest           </td>
          <td>(</td>
          <td class="paramtype">ChannelSenseRequest *&nbsp;</td>
          <td class="paramname"> <em>request</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles a new incoming ChannelSenseRequest and returns the next (or latest) time to handle the request again. 
<p>

<p>Definition at line <a class="el" href="a00355.html#l00106">106</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00355.html#l00182">answerCSR()</a>, <a class="el" href="a00355.html#l00146">canAnswerCSR()</a>, <a class="el" href="a00356.html#l00064">currentChannelSenseRequest</a>, <a class="el" href="a00057.html#73660771f127a990489fb04da07ea39e">DeciderToPhyInterface::getSimTime()</a>, <a class="el" href="a00364.html#l00075">Decider::notAgain</a>, and <a class="el" href="a00364.html#l00072">Decider::phy</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00086">handleChannelSenseRequest()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00107"></a>00107 {
<a name="l00108"></a>00108   <span class="comment">// no request handled at the moment, handling the new one</span>
<a name="l00109"></a>00109   simtime_t now = <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#73660771f127a990489fb04da07ea39e" title="Returns the current simulation time.">getSimTime</a>();
<a name="l00110"></a>00110 
<a name="l00111"></a>00111   <span class="comment">// saving the pointer to the request and its start-time (now)</span>
<a name="l00112"></a>00112   <a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>.first = request;
<a name="l00113"></a>00113   <a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>.second = now;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115   <span class="comment">//check if we can already answer the request</span>
<a name="l00116"></a>00116   <span class="keywordflow">if</span>(<a class="code" href="a00011.html#685497c4babb03a50b8967fb7505acc0" title="Returns true if the ChannelSenseRequest of the passed CSRInfo can be answered (e...">canAnswerCSR</a>(<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>))
<a name="l00117"></a>00117   {
<a name="l00118"></a>00118     <a class="code" href="a00011.html#b8e925001d1f8630338c50f8ec10bb0d" title="Answers the ChannelSenseRequest (CSR) from the passed CSRInfo.">answerCSR</a>(<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>);
<a name="l00119"></a>00119     <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00120"></a>00120   }
<a name="l00121"></a>00121 
<a name="l00122"></a>00122   <span class="keywordflow">return</span> ( now + request-&gt;getSenseTimeout() );
<a name="l00123"></a>00123 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="04331dd4b050ca2bc431254a15eee174"></a><!-- doxytag: member="BaseDecider::handleSenseRequestTimeout" ref="04331dd4b050ca2bc431254a15eee174" args="(CSRInfo &amp;requestInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseDecider::handleSenseRequestTimeout           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>requestInfo</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles the timeout of a ChannelSenseRequest by calculating the <a class="el" href="a00037.html" title="Provides information about the current state of the channel:.">ChannelState</a> and returning the request to the mac layer. 
<p>

<p>Definition at line <a class="el" href="a00355.html#l00125">125</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00355.html#l00182">answerCSR()</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00086">handleChannelSenseRequest()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00125"></a>00125                                                                 {
<a name="l00126"></a>00126   <a class="code" href="a00011.html#b8e925001d1f8630338c50f8ec10bb0d" title="Answers the ChannelSenseRequest (CSR) from the passed CSRInfo.">answerCSR</a>(requestInfo);
<a name="l00127"></a>00127 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6a480f87157d0509c0c1fccf94ea9fef"></a><!-- doxytag: member="BaseDecider::processNewSignal" ref="6a480f87157d0509c0c1fccf94ea9fef" args="(AirFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t BaseDecider::processNewSignal           </td>
          <td>(</td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes a new <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>. Returns the time it wants to handle the signal again. 
<p>
Default implementation checks if the signals receiving power is above the sensitivity of the radio and we are not already trying to receive another AirFrame. If thats the case it waits for the end of the signal. 
<p>Reimplemented in <a class="el" href="a00053.html#1f929f5b474f7b42c5c47acdd740cc68">Decider80211</a>.</p>

<p>Definition at line <a class="el" href="a00355.html#l00027">27</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00356.html#l00055">currentSignal</a>, <a class="el" href="a00356.html#l00013">debugEV</a>, <a class="el" href="a00356.html#l00045">EXPECT_END</a>, <a class="el" href="a00379.html#l00202">Signal::getReceivingPower()</a>, <a class="el" href="a00378.html#l00115">Signal::getSignalLength()</a>, <a class="el" href="a00378.html#l00111">Signal::getSignalStart()</a>, <a class="el" href="a00364.html#l00075">Decider::notAgain</a>, <a class="el" href="a00356.html#l00049">sensitivity</a>, and <a class="el" href="a00355.html#l00136">setChannelIdleStatus()</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00010">processSignal()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00027"></a>00027                                                        {
<a name="l00028"></a>00028   <span class="keywordflow">if</span>(<a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.first != 0) {
<a name="l00029"></a>00029     <a class="code" href="a00179.html#43107a17c21e08a3b52d6957f01d3987">debugEV</a> &lt;&lt; <span class="stringliteral">"Already receiving another AirFrame!"</span> &lt;&lt; endl;
<a name="l00030"></a>00030     <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00031"></a>00031   }
<a name="l00032"></a>00032 
<a name="l00033"></a>00033   <span class="comment">// get the receiving power of the Signal at start-time</span>
<a name="l00034"></a>00034   <a class="code" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>&amp; signal = frame-&gt;getSignal();
<a name="l00035"></a>00035   <span class="keywordtype">double</span> recvPower = signal.<a class="code" href="a00124.html#513b1abac0b04549585257f7f5f8ebea" title="Calculates and returns the receiving power of this Signal. Ownership of the returned...">getReceivingPower</a>()-&gt;getValue(<a class="code" href="a00003.html" title="Defines an argument for a mapping.">Argument</a>(signal.<a class="code" href="a00124.html#67358914ffdd97d4c08c051e6849c500" title="Returns the point in time when the receiving of the Signal started.">getSignalStart</a>()));
<a name="l00036"></a>00036 
<a name="l00037"></a>00037   <span class="comment">// check whether signal is strong enough to receive</span>
<a name="l00038"></a>00038   <span class="keywordflow">if</span> ( recvPower &lt; <a class="code" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0" title="sensitivity value for receiving an AirFrame">sensitivity</a> )
<a name="l00039"></a>00039   {
<a name="l00040"></a>00040     <a class="code" href="a00179.html#43107a17c21e08a3b52d6957f01d3987">debugEV</a> &lt;&lt; <span class="stringliteral">"Signal is to weak ("</span> &lt;&lt; recvPower &lt;&lt; <span class="stringliteral">" &lt; "</span> &lt;&lt; <a class="code" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0" title="sensitivity value for receiving an AirFrame">sensitivity</a>
<a name="l00041"></a>00041         &lt;&lt; <span class="stringliteral">") -&gt; do not receive."</span> &lt;&lt; endl;
<a name="l00042"></a>00042     <span class="comment">// Signal too weak, we can't receive it, tell PhyLayer that we don't want it again</span>
<a name="l00043"></a>00043     <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00044"></a>00044   }
<a name="l00045"></a>00045 
<a name="l00046"></a>00046   <span class="comment">// Signal is strong enough, receive this Signal and schedule it</span>
<a name="l00047"></a>00047   <a class="code" href="a00179.html#43107a17c21e08a3b52d6957f01d3987">debugEV</a> &lt;&lt; <span class="stringliteral">"Signal is strong enough ("</span> &lt;&lt; recvPower &lt;&lt; <span class="stringliteral">" &gt; "</span> &lt;&lt; <a class="code" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0" title="sensitivity value for receiving an AirFrame">sensitivity</a>
<a name="l00048"></a>00048       &lt;&lt; <span class="stringliteral">") -&gt; Trying to receive AirFrame."</span> &lt;&lt; endl;
<a name="l00049"></a>00049 
<a name="l00050"></a>00050   <a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.first = frame;
<a name="l00051"></a>00051   <a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.second = <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b5539b8e545c0676dab0b0efb80dfeeac" title="Waiting for the header of the signal.">EXPECT_END</a>;
<a name="l00052"></a>00052 
<a name="l00053"></a>00053   <span class="comment">//channel turned busy</span>
<a name="l00054"></a>00054   <a class="code" href="a00011.html#e535b44e34061014fe282c36c27b0193" title="Changes the &amp;quot;isIdle&amp;quot;-status to the passed value.">setChannelIdleStatus</a>(<span class="keyword">false</span>);
<a name="l00055"></a>00055 
<a name="l00056"></a>00056   <span class="keywordflow">return</span> ( signal.<a class="code" href="a00124.html#67358914ffdd97d4c08c051e6849c500" title="Returns the point in time when the receiving of the Signal started.">getSignalStart</a>() + signal.<a class="code" href="a00124.html#45626a4b652952d4b7d25b32164d417b" title="Returns the length of the signal transmission.">getSignalLength</a>() );
<a name="l00057"></a>00057 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="273892d7b0c9874e4efe3c7755aa7a17"></a><!-- doxytag: member="BaseDecider::processSignal" ref="273892d7b0c9874e4efe3c7755aa7a17" args="(AirFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t BaseDecider::processSignal           </td>
          <td>(</td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes an AirFrame given by the <a class="el" href="a00109.html" title="Provides initialisation for several AnalogueModels and Deciders from modules directory...">PhyLayer</a>. 
<p>
Returns the time point when the decider wants to be given the AirFrame again. 
<p>Reimplemented from <a class="el" href="a00052.html#2039d051f59054d39d4a5e0b38f25086">Decider</a>.</p>

<p>Definition at line <a class="el" href="a00355.html#l00010">10</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00356.html#l00013">debugEV</a>, <a class="el" href="a00356.html#l00045">EXPECT_END</a>, <a class="el" href="a00356.html#l00044">EXPECT_HEADER</a>, <a class="el" href="a00355.html#l00129">getSignalState()</a>, <a class="el" href="a00356.html#l00043">NEW</a>, <a class="el" href="a00355.html#l00027">processNewSignal()</a>, <a class="el" href="a00355.html#l00059">processSignalEnd()</a>, <a class="el" href="a00356.html#l00138">processSignalHeader()</a>, and <a class="el" href="a00356.html#l00158">processUnknownSignal()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00010"></a>00010                                                     {
<a name="l00011"></a>00011 
<a name="l00012"></a>00012   assert(frame);
<a name="l00013"></a>00013   <a class="code" href="a00179.html#43107a17c21e08a3b52d6957f01d3987">debugEV</a> &lt;&lt; <span class="stringliteral">"Processing AirFrame..."</span> &lt;&lt; endl;
<a name="l00014"></a>00014 
<a name="l00015"></a>00015   <span class="keywordflow">switch</span>(<a class="code" href="a00011.html#a41d7cb370ba4069108ede77732b3bc8" title="Returns the SignalState for the passed AirFrame.">getSignalState</a>(frame)) {
<a name="l00016"></a>00016   <span class="keywordflow">case</span> <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b3276f47da7417662597b21ee3afa2d31">NEW</a>:
<a name="l00017"></a>00017     <span class="keywordflow">return</span> <a class="code" href="a00011.html#6a480f87157d0509c0c1fccf94ea9fef" title="Processes a new Signal. Returns the time it wants to handle the signal again.">processNewSignal</a>(frame);
<a name="l00018"></a>00018   <span class="keywordflow">case</span> <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90bf0a66719215a9be8335546666facaab6" title="Signal is received the first time.">EXPECT_HEADER</a>:
<a name="l00019"></a>00019     <span class="keywordflow">return</span> <a class="code" href="a00011.html#d931e0965c66fef10c9407d4abecbaf5" title="Processes the end of the header of a received Signal.">processSignalHeader</a>(frame);
<a name="l00020"></a>00020   <span class="keywordflow">case</span> <a class="code" href="a00011.html#e4acbca8f960e9c49379ae2a82e2d90b5539b8e545c0676dab0b0efb80dfeeac" title="Waiting for the header of the signal.">EXPECT_END</a>:
<a name="l00021"></a>00021     <span class="keywordflow">return</span> <a class="code" href="a00011.html#b9cfef6c04e12d2524d45e881f341300" title="Processes the end of a received Signal.">processSignalEnd</a>(frame);
<a name="l00022"></a>00022   <span class="keywordflow">default</span>:
<a name="l00023"></a>00023     <span class="keywordflow">return</span> <a class="code" href="a00011.html#8a84e9ec29da8ec490d94dd7e68a6b04" title="Processes any Signal for which no state could be found. (is an error case).">processUnknownSignal</a>(frame);
<a name="l00024"></a>00024   }
<a name="l00025"></a>00025 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b9cfef6c04e12d2524d45e881f341300"></a><!-- doxytag: member="BaseDecider::processSignalEnd" ref="b9cfef6c04e12d2524d45e881f341300" args="(AirFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t BaseDecider::processSignalEnd           </td>
          <td>(</td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes the end of a received <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>. 
<p>
Returns the time it wants to handle the signal again (most probably notAgain).<p>
Default implementation just decides every signal as correct and passes it to the upper layer. 
<p>Reimplemented in <a class="el" href="a00053.html#2f8e006c849f1c14f4578b70358d0ecf">Decider80211</a>, and <a class="el" href="a00132.html#6002f2ee8ffa35ded0162c72f93c9fba">SNRThresholdDecider</a>.</p>

<p>Definition at line <a class="el" href="a00355.html#l00059">59</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00356.html#l00055">currentSignal</a>, <a class="el" href="a00364.html#l00075">Decider::notAgain</a>, <a class="el" href="a00364.html#l00072">Decider::phy</a>, <a class="el" href="a00057.html#3c0676323e402449d0972890c6a14df3">DeciderToPhyInterface::sendUp()</a>, and <a class="el" href="a00355.html#l00136">setChannelIdleStatus()</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00010">processSignal()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00059"></a>00059                                                        {
<a name="l00060"></a>00060   EV &lt;&lt; <span class="stringliteral">"packet was received correctly, it is now handed to upper layer...\n"</span>;
<a name="l00061"></a>00061   <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#3c0676323e402449d0972890c6a14df3" title="Called to send an AirFrame with DeciderResult to the MACLayer.">sendUp</a>(frame, <span class="keyword">new</span> <a class="code" href="a00055.html" title="A class to represent the result of a processed packet (that is not noise) by the...">DeciderResult</a>(<span class="keyword">true</span>));
<a name="l00062"></a>00062 
<a name="l00063"></a>00063   <span class="comment">// we have processed this AirFrame and we prepare to receive the next one</span>
<a name="l00064"></a>00064   <a class="code" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3" title="pointer to the currently received AirFrame">currentSignal</a>.first = 0;
<a name="l00065"></a>00065 
<a name="l00066"></a>00066   <span class="comment">//channel is idle now</span>
<a name="l00067"></a>00067   <a class="code" href="a00011.html#e535b44e34061014fe282c36c27b0193" title="Changes the &amp;quot;isIdle&amp;quot;-status to the passed value.">setChannelIdleStatus</a>(<span class="keyword">true</span>);
<a name="l00068"></a>00068 
<a name="l00069"></a>00069   <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00070"></a>00070 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d931e0965c66fef10c9407d4abecbaf5"></a><!-- doxytag: member="BaseDecider::processSignalHeader" ref="d931e0965c66fef10c9407d4abecbaf5" args="(AirFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual simtime_t BaseDecider::processSignalHeader           </td>
          <td>(</td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes the end of the header of a received <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a>. 
<p>
Returns the time it wants to handle the signal again.<p>
Default implementation does not handle signal headers. 
<p>Definition at line <a class="el" href="a00356.html#l00138">138</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>References <a class="el" href="a00364.html#l00075">Decider::notAgain</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00010">processSignal()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00138"></a>00138                                                          {
<a name="l00139"></a>00139     opp_error(<span class="stringliteral">"BaseDecider does not handle Signal headers!"</span>);
<a name="l00140"></a>00140     <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00141"></a>00141   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8a84e9ec29da8ec490d94dd7e68a6b04"></a><!-- doxytag: member="BaseDecider::processUnknownSignal" ref="8a84e9ec29da8ec490d94dd7e68a6b04" args="(AirFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual simtime_t BaseDecider::processUnknownSignal           </td>
          <td>(</td>
          <td class="paramtype">AirFrame *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes any <a class="el" href="a00124.html" title="The signal class stores the physical representation of the signal of an AirFrame...">Signal</a> for which no state could be found. (is an error case). 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00158">158</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>References <a class="el" href="a00364.html#l00075">Decider::notAgain</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00010">processSignal()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00158"></a>00158                                                           {
<a name="l00159"></a>00159     opp_error(<span class="stringliteral">"Unknown state for the AirFrame with ID %d"</span>, frame-&gt;getId());
<a name="l00160"></a>00160     <span class="keywordflow">return</span> <a class="code" href="a00052.html#3edae7484aed7b0b874521c724bd3c30" title="simtime that tells the Phy-Layer not to pass an AirFrame again">notAgain</a>;
<a name="l00161"></a>00161   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e535b44e34061014fe282c36c27b0193"></a><!-- doxytag: member="BaseDecider::setChannelIdleStatus" ref="e535b44e34061014fe282c36c27b0193" args="(bool isIdle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseDecider::setChannelIdleStatus           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isIdle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes the "isIdle"-status to the passed value. 
<p>
This method further checks if there are any ChannelSenseRequests which can be answered because of the idle state changed. 
<p>Reimplemented in <a class="el" href="a00054.html#af7ec7c2d440ada77c2c6ffa2af13802">Decider80211Battery</a>.</p>

<p>Definition at line <a class="el" href="a00355.html#l00136">136</a> of file <a class="el" href="a00355.html">BaseDecider.cc</a>.</p>

<p>References <a class="el" href="a00355.html#l00182">answerCSR()</a>, <a class="el" href="a00355.html#l00146">canAnswerCSR()</a>, <a class="el" href="a00057.html#f85151048dba05ec27e378000fd95403">DeciderToPhyInterface::cancelScheduledMessage()</a>, <a class="el" href="a00356.html#l00064">currentChannelSenseRequest</a>, <a class="el" href="a00356.html#l00058">isChannelIdle</a>, and <a class="el" href="a00364.html#l00072">Decider::phy</a>.</p>

<p>Referenced by <a class="el" href="a00458.html#l00012">Decider80211::processNewSignal()</a>, <a class="el" href="a00355.html#l00027">processNewSignal()</a>, <a class="el" href="a00467.html#l00052">SNRThresholdDecider::processSignalEnd()</a>, <a class="el" href="a00458.html#l00153">Decider80211::processSignalEnd()</a>, and <a class="el" href="a00355.html#l00059">processSignalEnd()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00136"></a>00136                                                   {
<a name="l00137"></a>00137   <a class="code" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d" title="Stores the idle state of the channel.">isChannelIdle</a> = isIdle;
<a name="l00138"></a>00138 
<a name="l00139"></a>00139   <span class="comment">//check if there is an ChannelSenseRequest we can answer now</span>
<a name="l00140"></a>00140   <span class="keywordflow">if</span>(<a class="code" href="a00011.html#685497c4babb03a50b8967fb7505acc0" title="Returns true if the ChannelSenseRequest of the passed CSRInfo can be answered (e...">canAnswerCSR</a>(<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>)){
<a name="l00141"></a>00141     <a class="code" href="a00052.html#e47e3459af2a4a7a1f14f6e60d2fc4c8" title="A pointer to the physical layer of this Decider.">phy</a>-&gt;<a class="code" href="a00057.html#f85151048dba05ec27e378000fd95403" title="Tells the PhyLayer to cancel a scheduled message (AirFrame or ControlMessage).">cancelScheduledMessage</a>(<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>.first);
<a name="l00142"></a>00142     <a class="code" href="a00011.html#b8e925001d1f8630338c50f8ec10bb0d" title="Answers the ChannelSenseRequest (CSR) from the passed CSRInfo.">answerCSR</a>(<a class="code" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e" title="pointer to the currently running ChannelSenseRequest and its start-time">currentChannelSenseRequest</a>);
<a name="l00143"></a>00143   }
<a name="l00144"></a>00144 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="c6cd60e58a8a557ed511f8193ced4f7e"></a><!-- doxytag: member="BaseDecider::currentChannelSenseRequest" ref="c6cd60e58a8a557ed511f8193ced4f7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00011.html#cf6221fc304163856f01b71710922cd3">CSRInfo</a> <a class="el" href="a00011.html#c6cd60e58a8a557ed511f8193ced4f7e">BaseDecider::currentChannelSenseRequest</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to the currently running ChannelSenseRequest and its start-time 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00064">64</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>Referenced by <a class="el" href="a00356.html#l00074">BaseDecider()</a>, <a class="el" href="a00355.html#l00086">handleChannelSenseRequest()</a>, <a class="el" href="a00355.html#l00106">handleNewSenseRequest()</a>, and <a class="el" href="a00355.html#l00136">setChannelIdleStatus()</a>.</p>

</div>
</div><p>
<a class="anchor" name="22e578e992fab5ab54fe5fcdf196d9e3"></a><!-- doxytag: member="BaseDecider::currentSignal" ref="22e578e992fab5ab54fe5fcdf196d9e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00011.html#4b3ede0e569c778173b7e430d958f92a">ReceivedSignal</a> <a class="el" href="a00011.html#22e578e992fab5ab54fe5fcdf196d9e3">BaseDecider::currentSignal</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to the currently received AirFrame 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00055">55</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>Referenced by <a class="el" href="a00356.html#l00074">BaseDecider()</a>, <a class="el" href="a00355.html#l00129">getSignalState()</a>, <a class="el" href="a00458.html#l00012">Decider80211::processNewSignal()</a>, <a class="el" href="a00355.html#l00027">processNewSignal()</a>, <a class="el" href="a00467.html#l00052">SNRThresholdDecider::processSignalEnd()</a>, <a class="el" href="a00458.html#l00153">Decider80211::processSignalEnd()</a>, and <a class="el" href="a00355.html#l00059">processSignalEnd()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a22cd5156240713e37578172ba5557ce"></a><!-- doxytag: member="BaseDecider::debug" ref="a22cd5156240713e37578172ba5557ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00011.html#a22cd5156240713e37578172ba5557ce">BaseDecider::debug</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
toggles display of debugging messages 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00071">71</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>Referenced by <a class="el" href="a00467.html#l00004">SNRThresholdDecider::checkIfAboveThreshold()</a>.</p>

</div>
</div><p>
<a class="anchor" name="535bb5ab48036db02bed8fcf5c4e415d"></a><!-- doxytag: member="BaseDecider::isChannelIdle" ref="535bb5ab48036db02bed8fcf5c4e415d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00011.html#535bb5ab48036db02bed8fcf5c4e415d">BaseDecider::isChannelIdle</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stores the idle state of the channel. 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00058">58</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>Referenced by <a class="el" href="a00355.html#l00182">answerCSR()</a>, <a class="el" href="a00355.html#l00146">canAnswerCSR()</a>, <a class="el" href="a00355.html#l00072">getChannelState()</a>, and <a class="el" href="a00355.html#l00136">setChannelIdleStatus()</a>.</p>

</div>
</div><p>
<a class="anchor" name="33e7f02028e78116193d09d6cdbc987e"></a><!-- doxytag: member="BaseDecider::myIndex" ref="33e7f02028e78116193d09d6cdbc987e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00011.html#33e7f02028e78116193d09d6cdbc987e">BaseDecider::myIndex</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
index for this Decider-instance given by Phy-Layer (mostly Host-index) default-value for myIndex is -1, i.e. no parameter passed to constructor-call 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00068">68</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5eece8bf532f92912ccbd0a3bc4d6fb0"></a><!-- doxytag: member="BaseDecider::sensitivity" ref="5eece8bf532f92912ccbd0a3bc4d6fb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="a00011.html#5eece8bf532f92912ccbd0a3bc4d6fb0">BaseDecider::sensitivity</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
sensitivity value for receiving an AirFrame 
<p>

<p>Definition at line <a class="el" href="a00356.html#l00049">49</a> of file <a class="el" href="a00356.html">BaseDecider.h</a>.</p>

<p>Referenced by <a class="el" href="a00458.html#l00012">Decider80211::processNewSignal()</a>, and <a class="el" href="a00355.html#l00027">processNewSignal()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>base/phyLayer/<a class="el" href="a00356.html">BaseDecider.h</a><li>base/phyLayer/<a class="el" href="a00355.html">BaseDecider.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 28 15:56:58 2009 for MiXiM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
