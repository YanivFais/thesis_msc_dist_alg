<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MiXiM: BaseUtility Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BaseUtility Class Reference<br>
<small>
[<a class="el" href="a00310.html">BaseUtility - blackboard related stuff</a>,&nbsp;<a class="el" href="a00309.html">baseModules - base module classes of MiXiM</a>]</small>
</h1><!-- doxytag: class="BaseUtility" --><!-- doxytag: inherits="ImNotifiable" -->Provides a blackboard like information distribution.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="a00347.html">BaseUtility.h</a>&gt;</code>
<p>
Inherits <a class="el" href="a00072.html">ImNotifiable</a>.
<p>
<div class="dynheader">
Collaboration diagram for BaseUtility:</div>
<div class="dynsection">
<p><center><img src="a00786.png" border="0" usemap="#a00787" alt="Collaboration graph"></center>
<map name="a00787">
<area shape="rect" href="a00072.html" title="Clients can receive change notifications from the Blackboard via this interface." alt="" coords="5,5,96,32"><area shape="rect" href="a00050.html" title="Class for storing host positions." alt="" coords="120,5,176,32"><area shape="rect" href="a00071.html" title="HostState is published by the battery to announce host failure." alt="" coords="200,5,280,32"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="a00788.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html">Subscriber</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#09c076194987b054b8ee6076b81b9336">handleMessage</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This modules should only receive self-messages.  <a href="#09c076194987b054b8ee6076b81b9336"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#869c930fffedc7db68e652581f5869ce">initialize</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes mobility model parameters.  <a href="#869c930fffedc7db68e652581f5869ce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a00050.html">Coord</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#ff0713c77210bd7a8d2dc4e55977a893">getPos</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete dynamically allocated objects.  <a href="#ff0713c77210bd7a8d2dc4e55977a893"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a00071.html">HostState</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#b7d9e59bf49cdfffe34ba0e53e38c76c">getHostState</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current <a class="el" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>.  <a href="#b7d9e59bf49cdfffe34ba0e53e38c76c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#888ed3ecf5f55c680c85d4ba53624f0b">receiveBBItem</a> (int category, const <a class="el" href="a00028.html">BBItem</a> *details, int scopeModuleId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#d57e8529a82be647510a942e31230785">~BaseUtility</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#35d03c7a123ca24f80b732d67ba1e31a">numInitStages</a> () const </td></tr>

<tr><td colspan="2"><div class="groupHeader">Methods for consumers of change notifications</div></td></tr>
<tr><td colspan="2"><div class="groupText"><br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#15085a1024ff661074352fe3a7ab2ac6">subscribe</a> (<a class="el" href="a00072.html">ImNotifiable</a> *client, const <a class="el" href="a00028.html">BBItem</a> *category, int scopeModuleId=-1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#7498f88c493f269537b61df403ccb920">subscribe</a> (<a class="el" href="a00072.html">ImNotifiable</a> *client, int category, int scopeModuleId=-1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#711ade8bf44aeb86ac3fbc22f1932b33">unsubscribe</a> (<a class="el" href="a00072.html">ImNotifiable</a> *client, int category)</td></tr>

<tr><td colspan="2"><div class="groupHeader">Methods for producers of change notifications</div></td></tr>
<tr><td colspan="2"><div class="groupText"><br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#f3e375a774329f553ddc670b737443a5">publishBBItem</a> (int category, const <a class="el" href="a00028.html">BBItem</a> *details, int scopeModuleId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#d8ed51fa1714dcdce0b294e6e3c74408">getCategory</a> (const <a class="el" href="a00028.html">BBItem</a> *details)</td></tr>

<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; <a class="el" href="a00023.html">Subscriber</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector<br class="typebreak">
&lt; <a class="el" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#9896292dd411ab2949d08429b6e690e0">ClientVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; const char * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#79250811aedd7d76634be0aa42310f36">CategoryDescriptions</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#3bed030811bc98d8cca43604b12d2b13">ParentVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef ClientVector::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#aee0161f568ecf6b038c150b8f5791c6">ClientVectorIter</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <br class="typebreak">
CategoryDescriptions::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#81a4b9a20625eade5d6c7425587f6f1a">DescriptionsIter</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef ParentVector::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#2810830f64f4f7798c03919dc1deaa0b">ParentVectorIter</a></td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">cModule *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#b15a8f8aecd710865f3c1b5d19a8c630">findHost</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get a pointer to the host module.  <a href="#b15a8f8aecd710865f3c1b5d19a8c630"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#2ddb7de31d6e1abbde2ee4eeae689b7f">categoryName</a> (int category)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#ec82cb8e6eaae844c4e9bedc2a899700">findAndCreateDescription</a> (bool *isNewEntry, const <a class="el" href="a00028.html">BBItem</a> *category)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#03750e7d90227da3706664466e16514d">fillParentVector</a> (const <a class="el" href="a00028.html">BBItem</a> *category, int cat)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00022.html#9896292dd411ab2949d08429b6e690e0">ClientVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00022.html#79250811aedd7d76634be0aa42310f36">CategoryDescriptions</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00022.html#3bed030811bc98d8cca43604b12d2b13">ParentVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#89c073aa186652a6a79524705e36d6ed">parentVector</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#6b9f3907ab79dc7a09635c6997d66386">nextCategory</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#9f343d30d7a2d07cdd94decb2373fd6e">catMove</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a> category number of <a class="el" href="a00097.html" title="Class to store object position and movement.">Move</a>.  <a href="#9f343d30d7a2d07cdd94decb2373fd6e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#082e58bef27e919c87961d1f51ca2eb0">catHostState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a> category number of <a class="el" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>.  <a href="#082e58bef27e919c87961d1f51ca2eb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00071.html">HostState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#f6be200acd5124414f6e52bbd6dee8ea">hostState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The hosts current state.  <a href="#f6be200acd5124414f6e52bbd6dee8ea"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00050.html">Coord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#e4427b4336a7d9c488bb40d6022f948d">pos</a></td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::ostream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#d8fa255f3e94644cd28c93eaf03b8858">operator&lt;&lt;</a> (std::ostream &amp;, const <a class="el" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a> &amp;)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provides a blackboard like information distribution. 
<p>
This file has been merged from <a class="el" href="a00170.html">BaseUtility.h</a> and Blackboard.h in order to bring Blackboard's functionality to <a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a>.<p>
Blackboard's comments have been copied since they describe the migrated functionality. In protocol simulations, one often has to evaluate the performance of a protocol. This implies that not only the protocol has to be developed, but also the code used for the performance evaluation. Often, this leads to ugly implementations: real protocol code is mixed with debug and performance evaluation code. This mix becomes annoying if the code is made public to the community.<p>
Another, somewhat similar, problem appears if programmers want to implement new protocols that integrate information from other protocol layers. Usually, researchers have to reimplement at least parts of the protocol tp expose the necessary information -- making it less useful for other researchers as this usually increases the coupling of the protocols.<p>
One way around both problems is a black board. On the black board, protocols publish their state and possible state changes. It is now possible to separate performance monitors from the protocol code. Also, cross-layer information exchange also boils down to publishing and subscribing information -- without introducing tight coupling. The only commonly known entity is the blackboard.<p>
The interaction with the blackboard is simple:<p>
publisher -publish(<a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a>)-&gt; Blackboard -notify(<a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a>)--&gt; subscriber<p>
The publisher can be anything that knows how to call a Blackboard and how to construct a proper <a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a>. It remains the logical owner of the published item. The BB neither stores it, nor keeps any reference to it.<p>
The subscriber must implement the <a class="el" href="a00072.html" title="Clients can receive change notifications from the Blackboard via this interface.">ImNotifiable</a> interface. It can keep a copy of the published item (cache it), but it should not keep a reference to it. Otherwise, things become really messy. (Some code written for older versions of the BB speaks for itself).<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="a00072.html" title="Clients can receive change notifications from the Blackboard via this interface.">ImNotifiable</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Andras Varga <p>
Andreas Koepke </dd></dl>

<p>Definition at line <a class="el" href="a00347.html#l00073">73</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="79250811aedd7d76634be0aa42310f36"></a><!-- doxytag: member="BaseUtility::CategoryDescriptions" ref="79250811aedd7d76634be0aa42310f36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;const char* &gt; <a class="el" href="a00022.html#79250811aedd7d76634be0aa42310f36">BaseUtility::CategoryDescriptions</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00103">103</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9896292dd411ab2949d08429b6e690e0"></a><!-- doxytag: member="BaseUtility::ClientVector" ref="9896292dd411ab2949d08429b6e690e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a>&gt; <a class="el" href="a00022.html#9896292dd411ab2949d08429b6e690e0">BaseUtility::ClientVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00101">101</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="aee0161f568ecf6b038c150b8f5791c6"></a><!-- doxytag: member="BaseUtility::ClientVectorIter" ref="aee0161f568ecf6b038c150b8f5791c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ClientVector::iterator <a class="el" href="a00022.html#aee0161f568ecf6b038c150b8f5791c6">BaseUtility::ClientVectorIter</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00107">107</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="81a4b9a20625eade5d6c7425587f6f1a"></a><!-- doxytag: member="BaseUtility::DescriptionsIter" ref="81a4b9a20625eade5d6c7425587f6f1a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef CategoryDescriptions::iterator <a class="el" href="a00022.html#81a4b9a20625eade5d6c7425587f6f1a">BaseUtility::DescriptionsIter</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00108">108</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3bed030811bc98d8cca43604b12d2b13"></a><!-- doxytag: member="BaseUtility::ParentVector" ref="3bed030811bc98d8cca43604b12d2b13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;int&gt; <a class="el" href="a00022.html#3bed030811bc98d8cca43604b12d2b13">BaseUtility::ParentVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00105">105</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="2810830f64f4f7798c03919dc1deaa0b"></a><!-- doxytag: member="BaseUtility::ParentVectorIter" ref="2810830f64f4f7798c03919dc1deaa0b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ParentVector::iterator <a class="el" href="a00022.html#2810830f64f4f7798c03919dc1deaa0b">BaseUtility::ParentVectorIter</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00109">109</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fafedb60f355bd4ed2162221d3adf4bf"></a><!-- doxytag: member="BaseUtility::SubscriberVector" ref="fafedb60f355bd4ed2162221d3adf4bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="a00023.html">Subscriber</a>&gt; <a class="el" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">BaseUtility::SubscriberVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00100">100</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d57e8529a82be647510a942e31230785"></a><!-- doxytag: member="BaseUtility::~BaseUtility" ref="d57e8529a82be647510a942e31230785" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseUtility::~BaseUtility           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00346.html#l00043">43</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00044"></a>00044 {
<a name="l00045"></a>00045 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="2ddb7de31d6e1abbde2ee4eeae689b7f"></a><!-- doxytag: member="BaseUtility::categoryName" ref="2ddb7de31d6e1abbde2ee4eeae689b7f" args="(int category)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * BaseUtility::categoryName           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
find the description of a category 
<p>Definition at line <a class="el" href="a00346.html#l00116">116</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00347.html#l00112">categoryDescriptions</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00241">publishBBItem()</a>, <a class="el" href="a00346.html#l00174">subscribe()</a>, and <a class="el" href="a00346.html#l00223">unsubscribe()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00117"></a>00117 {
<a name="l00118"></a>00118     <span class="keywordflow">if</span>(<a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>.size() &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(category)) {
<a name="l00119"></a>00119         error(<span class="stringliteral">"BaseUtility::categoryName called with unknown category (%i)"</span>, category);
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121     <span class="keywordflow">return</span> <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>[category];
<a name="l00122"></a>00122 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="03750e7d90227da3706664466e16514d"></a><!-- doxytag: member="BaseUtility::fillParentVector" ref="03750e7d90227da3706664466e16514d" args="(const BBItem *category, int cat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseUtility::fillParentVector           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00028.html">BBItem</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
traverse inheritance diagramm and make sure that children of category are also delivered to modules that susbcribed to one of its parent classes. 
<p>Definition at line <a class="el" href="a00346.html#l00154">154</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00346.html#l00124">findAndCreateDescription()</a>, <a class="el" href="a00399.html#l00035">BBItem::parentObject()</a>, and <a class="el" href="a00347.html#l00113">parentVector</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00265">getCategory()</a>, and <a class="el" href="a00346.html#l00201">subscribe()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00155"></a>00155 {
<a name="l00156"></a>00156     <span class="keywordtype">bool</span> isNewEntry = <span class="keyword">true</span>;
<a name="l00157"></a>00157     <span class="keywordtype">int</span> it;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <a class="code" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a> *parentObject;
<a name="l00160"></a>00160     <a class="code" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a> base;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     parentObject = category-&gt;<a class="code" href="a00028.html#634d9d3b8527c5107d870c31893603c5">parentObject</a>();
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <span class="keywordflow">if</span>(<span class="keyword">typeid</span>(*parentObject) != <span class="keyword">typeid</span>(base)) {
<a name="l00165"></a>00165         it = <a class="code" href="a00022.html#ec82cb8e6eaae844c4e9bedc2a899700">findAndCreateDescription</a>(&amp;isNewEntry, parentObject);
<a name="l00166"></a>00166         <a class="code" href="a00022.html#89c073aa186652a6a79524705e36d6ed">parentVector</a>[cat] = it;
<a name="l00167"></a>00167         <a class="code" href="a00022.html#03750e7d90227da3706664466e16514d">fillParentVector</a>(parentObject, it);
<a name="l00168"></a>00168     }
<a name="l00169"></a>00169     <span class="keyword">delete</span> parentObject;
<a name="l00170"></a>00170 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ec82cb8e6eaae844c4e9bedc2a899700"></a><!-- doxytag: member="BaseUtility::findAndCreateDescription" ref="ec82cb8e6eaae844c4e9bedc2a899700" args="(bool *isNewEntry, const BBItem *category)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseUtility::findAndCreateDescription           </td>
          <td>(</td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>isNewEntry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00028.html">BBItem</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
find or create a category, returns iterator in map and sets isNewEntry to true if the entry was created new. 
<p>Definition at line <a class="el" href="a00346.html#l00124">124</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00347.html#l00112">categoryDescriptions</a>, <a class="el" href="a00347.html#l00111">clientVector</a>, <a class="el" href="a00347.html#l00115">nextCategory</a>, and <a class="el" href="a00347.html#l00113">parentVector</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00154">fillParentVector()</a>, <a class="el" href="a00346.html#l00265">getCategory()</a>, and <a class="el" href="a00346.html#l00201">subscribe()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00125"></a>00125 {
<a name="l00126"></a>00126 
<a name="l00127"></a>00127     CategoryDescriptions::size_type it;
<a name="l00128"></a>00128     std::string desc = category-&gt;getClassName();
<a name="l00129"></a>00129     std::string cName;
<a name="l00130"></a>00130 
<a name="l00131"></a>00131     <span class="keywordflow">for</span>(it = 0; it &lt; <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>.size(); ++it)
<a name="l00132"></a>00132     {
<a name="l00133"></a>00133         cName = <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>[it];
<a name="l00134"></a>00134         <span class="keywordflow">if</span>(cName == desc) {
<a name="l00135"></a>00135             (*isNewEntry) = <span class="keyword">false</span>;
<a name="l00136"></a>00136             <span class="keywordflow">break</span>;
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138     }
<a name="l00139"></a>00139     <span class="keywordflow">if</span>(it == <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>.size()) {
<a name="l00140"></a>00140         (*isNewEntry) = <span class="keyword">true</span>;
<a name="l00141"></a>00141         <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>.push_back(category-&gt;getClassName());
<a name="l00142"></a>00142         it = <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>.size() - 1;
<a name="l00143"></a>00143         <a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>.push_back(<a class="code" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a>());
<a name="l00144"></a>00144         <span class="keywordflow">if</span>(it != <a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>.size()-1)
<a name="l00145"></a>00145             error(<span class="stringliteral">"BaseUtility::findAndCreateDescription SubscriberVector creation failed"</span>);
<a name="l00146"></a>00146         <a class="code" href="a00022.html#89c073aa186652a6a79524705e36d6ed">parentVector</a>.push_back(-1);
<a name="l00147"></a>00147         <span class="keywordflow">if</span>(it != <a class="code" href="a00022.html#89c073aa186652a6a79524705e36d6ed">parentVector</a>.size()-1)
<a name="l00148"></a>00148             error(<span class="stringliteral">"BaseUtility::findAndCreateDescription ParentVector creation failed"</span>);
<a name="l00149"></a>00149         <a class="code" href="a00022.html#6b9f3907ab79dc7a09635c6997d66386">nextCategory</a> = <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>.size();
<a name="l00150"></a>00150     }
<a name="l00151"></a>00151     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(it);
<a name="l00152"></a>00152 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b15a8f8aecd710865f3c1b5d19a8c630"></a><!-- doxytag: member="BaseUtility::findHost" ref="b15a8f8aecd710865f3c1b5d19a8c630" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cModule * BaseUtility::findHost           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to get a pointer to the host module. 
<p>

<p>Definition at line <a class="el" href="a00346.html#l00074">74</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00049">initialize()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00075"></a>00075 {
<a name="l00076"></a>00076   <span class="keywordflow">return</span> <a class="code" href="a00022.html#b15a8f8aecd710865f3c1b5d19a8c630" title="Function to get a pointer to the host module.">FindModule&lt;&gt;::findHost</a>(<span class="keyword">this</span>);
<a name="l00077"></a>00077 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d8ed51fa1714dcdce0b294e6e3c74408"></a><!-- doxytag: member="BaseUtility::getCategory" ref="d8ed51fa1714dcdce0b294e6e3c74408" args="(const BBItem *details)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseUtility::getCategory           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00028.html">BBItem</a> *&nbsp;</td>
          <td class="paramname"> <em>details</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the category from the BB -- if you don't want to subscribe but rather publish 
<p>Definition at line <a class="el" href="a00346.html#l00265">265</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00347.html#l00077">coreDebug</a>, <a class="el" href="a00346.html#l00154">fillParentVector()</a>, and <a class="el" href="a00346.html#l00124">findAndCreateDescription()</a>.</p>

<p>Referenced by <a class="el" href="a00473.html#l00028">SimpleBattery::initialize()</a>, <a class="el" href="a00340.html#l00043">BaseMobility::initialize()</a>, and <a class="el" href="a00336.html#l00036">BaseLayer::initialize()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00266"></a>00266 {
<a name="l00267"></a>00267     <span class="keywordflow">if</span>(<a class="code" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a>) {
<a name="l00268"></a>00268         Enter_Method(<span class="stringliteral">"getCategory(%s)"</span>, details?details-&gt;getClassName():<span class="stringliteral">"n/a"</span>);
<a name="l00269"></a>00269     } <span class="keywordflow">else</span> {
<a name="l00270"></a>00270         Enter_Method_Silent();
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272     <span class="keywordtype">int</span> category = -1;
<a name="l00273"></a>00273     <span class="keywordtype">bool</span> isNewEntry;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     <span class="keywordflow">if</span>(details) {
<a name="l00276"></a>00276         category = <a class="code" href="a00022.html#ec82cb8e6eaae844c4e9bedc2a899700">findAndCreateDescription</a>(&amp;isNewEntry, details);
<a name="l00277"></a>00277         <span class="keywordflow">if</span>(isNewEntry) <a class="code" href="a00022.html#03750e7d90227da3706664466e16514d">fillParentVector</a>(details, category);
<a name="l00278"></a>00278     } <span class="keywordflow">else</span> {
<a name="l00279"></a>00279         error(<span class="stringliteral">"BaseUtility::getCategory called without category item"</span>);
<a name="l00280"></a>00280     }
<a name="l00281"></a>00281     <span class="keywordflow">return</span> category;
<a name="l00282"></a>00282 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b7d9e59bf49cdfffe34ba0e53e38c76c"></a><!-- doxytag: member="BaseUtility::getHostState" ref="b7d9e59bf49cdfffe34ba0e53e38c76c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00071.html">HostState</a>&amp; BaseUtility::getHostState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current <a class="el" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>. 
<p>

<p>Definition at line <a class="el" href="a00347.html#l00163">163</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>References <a class="el" href="a00347.html#l00127">hostState</a>.</p>

<p>Referenced by <a class="el" href="a00465.html#l00086">PhyLayerBattery::handleAirFrame()</a>, and <a class="el" href="a00465.html#l00067">PhyLayerBattery::handleUpperMessage()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00163"></a>00163 { <span class="keywordflow">return</span> <a class="code" href="a00022.html#f6be200acd5124414f6e52bbd6dee8ea" title="The hosts current state.">hostState</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ff0713c77210bd7a8d2dc4e55977a893"></a><!-- doxytag: member="BaseUtility::getPos" ref="ff0713c77210bd7a8d2dc4e55977a893" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00050.html">Coord</a>* BaseUtility::getPos           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete dynamically allocated objects. 
<p>
Get current position 
<p>Definition at line <a class="el" href="a00347.html#l00160">160</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>References <a class="el" href="a00347.html#l00083">pos</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00160"></a>00160 {<span class="keywordflow">return</span> &amp;<a class="code" href="a00022.html#e4427b4336a7d9c488bb40d6022f948d">pos</a>;}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="09c076194987b054b8ee6076b81b9336"></a><!-- doxytag: member="BaseUtility::handleMessage" ref="09c076194987b054b8ee6076b81b9336" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseUtility::handleMessage           </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This modules should only receive self-messages. 
<p>

<p>Definition at line <a class="el" href="a00346.html#l00079">79</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00079"></a>00079                                              {
<a name="l00080"></a>00080   error(<span class="stringliteral">"This module does not handle any messages yet"</span>);
<a name="l00081"></a>00081 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="869c930fffedc7db68e652581f5869ce"></a><!-- doxytag: member="BaseUtility::initialize" ref="869c930fffedc7db68e652581f5869ce" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseUtility::initialize           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes mobility model parameters. 
<p>

<p>Definition at line <a class="el" href="a00346.html#l00049">49</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00398.html#l00041">HostState::ACTIVE</a>, <a class="el" href="a00347.html#l00112">categoryDescriptions</a>, <a class="el" href="a00347.html#l00124">catHostState</a>, <a class="el" href="a00347.html#l00121">catMove</a>, <a class="el" href="a00347.html#l00111">clientVector</a>, <a class="el" href="a00347.html#l00077">coreDebug</a>, <a class="el" href="a00346.html#l00074">findHost()</a>, <a class="el" href="a00347.html#l00127">hostState</a>, <a class="el" href="a00347.html#l00115">nextCategory</a>, <a class="el" href="a00347.html#l00113">parentVector</a>, <a class="el" href="a00398.html#l00063">HostState::set()</a>, and <a class="el" href="a00346.html#l00201">subscribe()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00049"></a>00049                                       {
<a name="l00050"></a>00050   <span class="comment">//BaseModule::initialize(stage);</span>
<a name="l00051"></a>00051 
<a name="l00052"></a>00052   <span class="keywordflow">if</span> (stage == 0) {
<a name="l00053"></a>00053     hasPar(<span class="stringliteral">"coreDebug"</span>) ? <a class="code" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a> = par(<span class="stringliteral">"coreDebug"</span>).boolValue() : <a class="code" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a> = <span class="keyword">false</span>;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="comment">//BB start</span>
<a name="l00056"></a>00056     WATCH_VECTOR(<a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>);
<a name="l00057"></a>00057       WATCH_VECTOR(<a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>);
<a name="l00058"></a>00058 
<a name="l00059"></a>00059       <a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>.clear();
<a name="l00060"></a>00060       <a class="code" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">categoryDescriptions</a>.clear();
<a name="l00061"></a>00061       <a class="code" href="a00022.html#89c073aa186652a6a79524705e36d6ed">parentVector</a>.clear();
<a name="l00062"></a>00062       <a class="code" href="a00022.html#6b9f3907ab79dc7a09635c6997d66386">nextCategory</a> = 0;
<a name="l00063"></a>00063 <span class="comment">//BB end</span>
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         <span class="comment">// subscribe to position changes</span>
<a name="l00066"></a>00066         <a class="code" href="a00097.html" title="Class to store object position and movement.">Move</a> moveBBItem;
<a name="l00067"></a>00067         <a class="code" href="a00022.html#9f343d30d7a2d07cdd94decb2373fd6e" title="BBItem category number of Move.">catMove</a> = <a class="code" href="a00022.html#15085a1024ff661074352fe3a7ab2ac6">subscribe</a>(<span class="keyword">this</span>, &amp;moveBBItem, <a class="code" href="a00022.html#b15a8f8aecd710865f3c1b5d19a8c630" title="Function to get a pointer to the host module.">findHost</a>()-&gt;getId());
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         <a class="code" href="a00022.html#082e58bef27e919c87961d1f51ca2eb0" title="BBItem category number of HostState.">catHostState</a> = <a class="code" href="a00022.html#15085a1024ff661074352fe3a7ab2ac6">subscribe</a>(<span class="keyword">this</span>, &amp;<a class="code" href="a00022.html#f6be200acd5124414f6e52bbd6dee8ea" title="The hosts current state.">hostState</a>, <a class="code" href="a00022.html#b15a8f8aecd710865f3c1b5d19a8c630" title="Function to get a pointer to the host module.">findHost</a>()-&gt;getId());
<a name="l00070"></a>00070         <a class="code" href="a00022.html#f6be200acd5124414f6e52bbd6dee8ea" title="The hosts current state.">hostState</a>.<a class="code" href="a00071.html#403e773f87d00a6c66f3f017441de752" title="Sets the host state.">set</a>(<a class="code" href="a00071.html#5002302e0f07bbd982c6e5d65eaa9c3c24022de9465df959797f9b000cb87ad5">HostState::ACTIVE</a>);
<a name="l00071"></a>00071   }
<a name="l00072"></a>00072 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="35d03c7a123ca24f80b732d67ba1e31a"></a><!-- doxytag: member="BaseUtility::numInitStages" ref="35d03c7a123ca24f80b732d67ba1e31a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int BaseUtility::numInitStages           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00241">241</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00241"></a>00241                                       {
<a name="l00242"></a>00242     <span class="keywordflow">return</span> 2;
<a name="l00243"></a>00243   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f3e375a774329f553ddc670b737443a5"></a><!-- doxytag: member="BaseUtility::publishBBItem" ref="f3e375a774329f553ddc670b737443a5" args="(int category, const BBItem *details, int scopeModuleId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseUtility::publishBBItem           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00028.html">BBItem</a> *&nbsp;</td>
          <td class="paramname"> <em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>scopeModuleId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tells Blackboard that a change of the given category has taken place. The optional details object (<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a>) may carry more specific information about the change (e.g. exact location, specific attribute that changed, old value, new value, etc).</dd></dl>
This function is very central once you start working with the blackboard. You should heed the following advices:<p>
<ul>
<li>Publish in stage 1 of initialize after everbody was able to subscribe.</li><li>This function should be the last thing you call in a method. There is a chance that a certain race condition occurs, as in the following case, for simplicity the module is subscribed to the value that it publishes: -- Module::myMethod: lock module; publishBBItem; unlock module -- Module::receiveBBItem: if module not locked, do something Since receiveBBItem is called from within publishBBItem, the module will always be locked and the code in receiveBBItem is never executed. </li></ul>

<p>Definition at line <a class="el" href="a00346.html#l00241">241</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00346.html#l00116">categoryName()</a>, <a class="el" href="a00347.html#l00111">clientVector</a>, <a class="el" href="a00347.html#l00077">coreDebug</a>, and <a class="el" href="a00347.html#l00113">parentVector</a>.</p>

<p>Referenced by <a class="el" href="a00473.html#l00236">SimpleBattery::deductAndCheck()</a>, <a class="el" href="a00473.html#l00203">SimpleBattery::handleMessage()</a>, <a class="el" href="a00473.html#l00028">SimpleBattery::initialize()</a>, <a class="el" href="a00336.html#l00128">BaseLayer::recordPacket()</a>, <a class="el" href="a00342.html#l00080">BaseModule::switchHostState()</a>, and <a class="el" href="a00340.html#l00217">BaseMobility::updatePosition()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00242"></a>00242 {
<a name="l00243"></a>00243     <span class="keywordflow">if</span>(<a class="code" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a>) {
<a name="l00244"></a>00244         Enter_Method(<span class="stringliteral">"publish(%s, %s, %i)"</span>, <a class="code" href="a00022.html#2ddb7de31d6e1abbde2ee4eeae689b7f">categoryName</a>(category),
<a name="l00245"></a>00245                      details?details-&gt;info().c_str() : <span class="stringliteral">"n/a"</span>, scopeModuleId);
<a name="l00246"></a>00246     } <span class="keywordflow">else</span> {
<a name="l00247"></a>00247         Enter_Method_Silent();
<a name="l00248"></a>00248     }
<a name="l00249"></a>00249 
<a name="l00250"></a>00250     <span class="keywordtype">int</span> pCat;
<a name="l00251"></a>00251     <span class="keywordflow">if</span>(<a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>.size() &gt; 0) {
<a name="l00252"></a>00252         SubscriberVector::const_iterator j;
<a name="l00253"></a>00253         <span class="keywordflow">for</span> (j=<a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>[category].begin(); j!=<a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>[category].end(); ++j)
<a name="l00254"></a>00254         {
<a name="l00255"></a>00255             <span class="keywordflow">if</span>(((*j).scopeModuleId == -1) || ((*j).scopeModuleId == scopeModuleId))
<a name="l00256"></a>00256             {
<a name="l00257"></a>00257                 (*j).client-&gt;receiveBBItem(category, details, scopeModuleId);
<a name="l00258"></a>00258             }
<a name="l00259"></a>00259         }
<a name="l00260"></a>00260         pCat = <a class="code" href="a00022.html#89c073aa186652a6a79524705e36d6ed">parentVector</a>[category];
<a name="l00261"></a>00261         <span class="keywordflow">if</span>(pCat &gt;= 0) <a class="code" href="a00022.html#f3e375a774329f553ddc670b737443a5">publishBBItem</a>(pCat, details, scopeModuleId);
<a name="l00262"></a>00262     }
<a name="l00263"></a>00263 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="888ed3ecf5f55c680c85d4ba53624f0b"></a><!-- doxytag: member="BaseUtility::receiveBBItem" ref="888ed3ecf5f55c680c85d4ba53624f0b" args="(int category, const BBItem *details, int scopeModuleId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseUtility::receiveBBItem           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00028.html">BBItem</a> *&nbsp;</td>
          <td class="paramname"> <em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>scopeModuleId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
We want to receive Moves and HostStates from <a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a> to synchronize hostPosition and -state.<p>
<a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a> subscribes itself to position and host state changes to synchronize the hostPosition and -state. 
<p>Implements <a class="el" href="a00072.html#d782c77e2cbed174071ee2711ad27d73">ImNotifiable</a>.</p>

<p>Definition at line <a class="el" href="a00346.html#l00095">95</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00347.html#l00124">catHostState</a>, <a class="el" href="a00347.html#l00121">catMove</a>, <a class="el" href="a00343.html#l00040">coreEV</a>, <a class="el" href="a00347.html#l00127">hostState</a>, <a class="el" href="a00398.html#l00065">HostState::info()</a>, <a class="el" href="a00401.html#l00092">Move::info()</a>, <a class="el" href="a00347.html#l00083">pos</a>, and <a class="el" href="a00401.html#l00048">Move::startPos</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {
<a name="l00097"></a>00097     <span class="comment">//BaseModule::receiveBBItem(category, details, scopeModuleId);</span>
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <span class="keywordflow">if</span>(category == <a class="code" href="a00022.html#9f343d30d7a2d07cdd94decb2373fd6e" title="BBItem category number of Move.">catMove</a>)
<a name="l00100"></a>00100     {
<a name="l00101"></a>00101         <span class="keyword">const</span> <a class="code" href="a00097.html" title="Class to store object position and movement.">Move</a>* m = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="a00097.html" title="Class to store object position and movement.">Move</a>*<span class="keyword">&gt;</span>(details);
<a name="l00102"></a>00102         <a class="code" href="a00022.html#e4427b4336a7d9c488bb40d6022f948d">pos</a> = m-&gt;<a class="code" href="a00097.html#84550b4f702ceed03c516754d17950f9" title="Start position of the host (in meters).">startPos</a>;
<a name="l00103"></a>00103         <a class="code" href="a00166.html#27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt; <span class="stringliteral">"new HostMove: "</span> &lt;&lt; m-&gt;<a class="code" href="a00097.html#0287300e9580229fdd0c4c2c13e9527d">info</a>() &lt;&lt; endl;
<a name="l00104"></a>00104     }
<a name="l00105"></a>00105     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(category == <a class="code" href="a00022.html#082e58bef27e919c87961d1f51ca2eb0" title="BBItem category number of HostState.">catHostState</a>)
<a name="l00106"></a>00106     {
<a name="l00107"></a>00107       <span class="keyword">const</span> <a class="code" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>* state = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>*<span class="keyword">&gt;</span>(details);
<a name="l00108"></a>00108     <a class="code" href="a00022.html#f6be200acd5124414f6e52bbd6dee8ea" title="The hosts current state.">hostState</a> = *state;
<a name="l00109"></a>00109     <a class="code" href="a00166.html#27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt; <span class="stringliteral">"new HostState: "</span> &lt;&lt; <a class="code" href="a00022.html#f6be200acd5124414f6e52bbd6dee8ea" title="The hosts current state.">hostState</a>.<a class="code" href="a00071.html#3b7466f384edafc0214e39265e27fef2">info</a>() &lt;&lt; endl;
<a name="l00110"></a>00110     }
<a name="l00111"></a>00111 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7498f88c493f269537b61df403ccb920"></a><!-- doxytag: member="BaseUtility::subscribe" ref="7498f88c493f269537b61df403ccb920" args="(ImNotifiable *client, int category, int scopeModuleId=&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseUtility::subscribe           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00072.html">ImNotifiable</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>scopeModuleId</em> = <code>-1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Subscribe to changes of a specific category. This time using the numeric id. This implies that you have previously called subscribe with the apprpriate category class.<p>
Both subscribe functions subscribe also to children of this category class.<p>
Subscribe in stage 0 of initialize -- this way you get all publishes that happen at stage 1. 
<p>Definition at line <a class="el" href="a00346.html#l00174">174</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00346.html#l00116">categoryName()</a>, <a class="el" href="a00347.html#l00111">clientVector</a>, and <a class="el" href="a00347.html#l00077">coreDebug</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00175"></a>00175 {
<a name="l00176"></a>00176     <span class="keywordflow">if</span>(<a class="code" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a>) {
<a name="l00177"></a>00177         Enter_Method(<span class="stringliteral">"subscribe(%s, %i)"</span>, <a class="code" href="a00022.html#2ddb7de31d6e1abbde2ee4eeae689b7f">categoryName</a>(category), scopeModuleId);
<a name="l00178"></a>00178     } <span class="keywordflow">else</span> {
<a name="l00179"></a>00179         Enter_Method_Silent();
<a name="l00180"></a>00180     }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182     <span class="comment">// find or create entry for this category</span>
<a name="l00183"></a>00183     <a class="code" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a>&amp; clients = <a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>[category];
<a name="l00184"></a>00184     SubscriberVector::const_iterator it;
<a name="l00185"></a>00185     <span class="keywordflow">for</span>(it = clients.begin(); it != clients.end(); ++it) {
<a name="l00186"></a>00186         <span class="keywordflow">if</span>((*it).client == client) {
<a name="l00187"></a>00187             std::string cname(<span class="stringliteral">"unkown"</span>);
<a name="l00188"></a>00188             cModule *cm = <span class="keyword">dynamic_cast&lt;</span>cModule *<span class="keyword">&gt;</span>(client);
<a name="l00189"></a>00189             <span class="keywordflow">if</span>(cm) cname = cm-&gt;getFullPath();
<a name="l00190"></a>00190             error(<span class="stringliteral">"BaseUtility::subscribe called twice for item %s, by client %s. \nThis probably means that a class from which you derived yours has \nalready subscribed to this item. This may result in conflicts, please check.\n "</span>, <a class="code" href="a00022.html#2ddb7de31d6e1abbde2ee4eeae689b7f">categoryName</a>(category), cname.c_str());
<a name="l00191"></a>00191             <span class="keywordflow">break</span>;
<a name="l00192"></a>00192         }
<a name="l00193"></a>00193     }
<a name="l00194"></a>00194     <span class="comment">// add client if not already there</span>
<a name="l00195"></a>00195     <span class="keywordflow">if</span> (it == clients.end()) {
<a name="l00196"></a>00196         clients.push_back(Subscriber(client, scopeModuleId));
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198     <span class="keywordflow">return</span> category;
<a name="l00199"></a>00199 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="15085a1024ff661074352fe3a7ab2ac6"></a><!-- doxytag: member="BaseUtility::subscribe" ref="15085a1024ff661074352fe3a7ab2ac6" args="(ImNotifiable *client, const BBItem *category, int scopeModuleId=&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseUtility::subscribe           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00072.html">ImNotifiable</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00028.html">BBItem</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>scopeModuleId</em> = <code>-1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Subscribe to changes of a specific category. The category is defined by the <a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a> class to which this object belongs. Returns the id of this category.<p>
Both subscribe functions subscribe also to children of this category class. 
<p>Definition at line <a class="el" href="a00346.html#l00201">201</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00347.html#l00077">coreDebug</a>, <a class="el" href="a00346.html#l00154">fillParentVector()</a>, and <a class="el" href="a00346.html#l00124">findAndCreateDescription()</a>.</p>

<p>Referenced by <a class="el" href="a00470.html#l00034">BatteryStats::initialize()</a>, <a class="el" href="a00346.html#l00049">initialize()</a>, <a class="el" href="a00342.html#l00037">BaseModule::initialize()</a>, and <a class="el" href="a00321.html#l00039">ChannelAccess::initialize()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00202"></a>00202 {
<a name="l00203"></a>00203     <span class="keywordflow">if</span>(<a class="code" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a>) {
<a name="l00204"></a>00204         Enter_Method(<span class="stringliteral">"subscribe(%s, %i)"</span>, category?category-&gt;getClassName() : <span class="stringliteral">"n/a"</span>,
<a name="l00205"></a>00205                      scopeModuleId);
<a name="l00206"></a>00206     } <span class="keywordflow">else</span> {
<a name="l00207"></a>00207         Enter_Method_Silent();
<a name="l00208"></a>00208     }
<a name="l00209"></a>00209     CategoryDescriptions::size_type it = 0;
<a name="l00210"></a>00210     <span class="keywordtype">bool</span> isNewEntry;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212     <span class="keywordflow">if</span>(category) {
<a name="l00213"></a>00213         it = <a class="code" href="a00022.html#ec82cb8e6eaae844c4e9bedc2a899700">findAndCreateDescription</a>(&amp;isNewEntry, category);
<a name="l00214"></a>00214         <span class="keywordflow">if</span>(isNewEntry) <a class="code" href="a00022.html#03750e7d90227da3706664466e16514d">fillParentVector</a>(category, static_cast&lt;int&gt;(it));
<a name="l00215"></a>00215         <a class="code" href="a00022.html#15085a1024ff661074352fe3a7ab2ac6">subscribe</a>(client, static_cast&lt;int&gt;(it), scopeModuleId);
<a name="l00216"></a>00216     }
<a name="l00217"></a>00217     <span class="keywordflow">else</span> {
<a name="l00218"></a>00218         error(<span class="stringliteral">"BaseUtility::subscribe called without category item"</span>);
<a name="l00219"></a>00219     }
<a name="l00220"></a>00220     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(it);
<a name="l00221"></a>00221 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="711ade8bf44aeb86ac3fbc22f1932b33"></a><!-- doxytag: member="BaseUtility::unsubscribe" ref="711ade8bf44aeb86ac3fbc22f1932b33" args="(ImNotifiable *client, int category)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseUtility::unsubscribe           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00072.html">ImNotifiable</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unsubscribe from notifications 
<p>Definition at line <a class="el" href="a00346.html#l00223">223</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>

<p>References <a class="el" href="a00346.html#l00116">categoryName()</a>, <a class="el" href="a00347.html#l00111">clientVector</a>, and <a class="el" href="a00347.html#l00077">coreDebug</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00224"></a>00224 {
<a name="l00225"></a>00225     <span class="keywordflow">if</span>(<a class="code" href="a00022.html#eec15bd75df68ead143f852341d47a89">coreDebug</a>) {
<a name="l00226"></a>00226         Enter_Method(<span class="stringliteral">"unsubscribe(%s)"</span>, <a class="code" href="a00022.html#2ddb7de31d6e1abbde2ee4eeae689b7f">categoryName</a>(category));
<a name="l00227"></a>00227     } <span class="keywordflow">else</span> {
<a name="l00228"></a>00228         Enter_Method_Silent();
<a name="l00229"></a>00229     }
<a name="l00230"></a>00230     <span class="comment">// find (or create) entry for this category</span>
<a name="l00231"></a>00231     <a class="code" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a>&amp; clients = <a class="code" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">clientVector</a>[category];
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     <span class="comment">// remove client if there</span>
<a name="l00234"></a>00234     SubscriberVector::iterator it;
<a name="l00235"></a>00235     <span class="keywordflow">for</span>(it = clients.begin(); it != clients.end(); ++it) {
<a name="l00236"></a>00236         <span class="keywordflow">if</span>((*it).client == client) clients.erase(it);
<a name="l00237"></a>00237         <span class="keywordflow">break</span>;
<a name="l00238"></a>00238     }
<a name="l00239"></a>00239 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="d8fa255f3e94644cd28c93eaf03b8858"></a><!-- doxytag: member="BaseUtility::operator&lt;&lt;" ref="d8fa255f3e94644cd28c93eaf03b8858" args="(std::ostream &amp;, const SubscriberVector &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt;           </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00022.html#fafedb60f355bd4ed2162221d3adf4bf">SubscriberVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00346.html#l00015">15</a> of file <a class="el" href="a00346.html">BaseUtility.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00016"></a>00016 {
<a name="l00017"></a>00017     os &lt;&lt; v.size() &lt;&lt; <span class="stringliteral">" client(s) "</span>;
<a name="l00018"></a>00018     BaseUtility::SubscriberVector::const_iterator it;
<a name="l00019"></a>00019     <span class="keywordflow">for</span> (it = v.begin(); it != v.end(); ++it)
<a name="l00020"></a>00020     {
<a name="l00021"></a>00021         os &lt;&lt; (it == v.begin() ? <span class="stringliteral">": "</span> : <span class="stringliteral">", "</span>);
<a name="l00022"></a>00022         <span class="keywordflow">if</span> (dynamic_cast&lt;cModule*&gt;((*it).client))
<a name="l00023"></a>00023         {
<a name="l00024"></a>00024             cModule *mod = <span class="keyword">dynamic_cast&lt;</span>cModule*<span class="keyword">&gt;</span>((*it).client);
<a name="l00025"></a>00025             os &lt;&lt; <span class="stringliteral">"mod ("</span> &lt;&lt; mod-&gt;getClassName() &lt;&lt; <span class="stringliteral">") "</span> &lt;&lt; mod-&gt;getFullName() &lt;&lt; <span class="stringliteral">" id="</span> &lt;&lt; mod-&gt;getId();
<a name="l00026"></a>00026         }
<a name="l00027"></a>00027         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;cObject*&gt;((*it).client))
<a name="l00028"></a>00028         {
<a name="l00029"></a>00029             cObject *obj = <span class="keyword">dynamic_cast&lt;</span>cObject*<span class="keyword">&gt;</span>((*it).client);
<a name="l00030"></a>00030             os &lt;&lt; <span class="stringliteral">"a "</span> &lt;&lt; obj-&gt;getClassName();
<a name="l00031"></a>00031         }
<a name="l00032"></a>00032         <span class="keywordflow">else</span>
<a name="l00033"></a>00033         {
<a name="l00034"></a>00034             os &lt;&lt; <span class="stringliteral">"a "</span> &lt;&lt; opp_typename(<span class="keyword">typeid</span>((*it).client));
<a name="l00035"></a>00035         }
<a name="l00036"></a>00036         os &lt;&lt; <span class="stringliteral">" scope: "</span> &lt;&lt; (*it).scopeModuleId;
<a name="l00037"></a>00037     }
<a name="l00038"></a>00038     <span class="keywordflow">return</span> os;
<a name="l00039"></a>00039 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="adc937c8dc88cf1f6e1906e5db292932"></a><!-- doxytag: member="BaseUtility::categoryDescriptions" ref="adc937c8dc88cf1f6e1906e5db292932" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00022.html#79250811aedd7d76634be0aa42310f36">CategoryDescriptions</a> <a class="el" href="a00022.html#adc937c8dc88cf1f6e1906e5db292932">BaseUtility::categoryDescriptions</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00112">112</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00116">categoryName()</a>, <a class="el" href="a00346.html#l00124">findAndCreateDescription()</a>, and <a class="el" href="a00346.html#l00049">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="082e58bef27e919c87961d1f51ca2eb0"></a><!-- doxytag: member="BaseUtility::catHostState" ref="082e58bef27e919c87961d1f51ca2eb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00022.html#082e58bef27e919c87961d1f51ca2eb0">BaseUtility::catHostState</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a> category number of <a class="el" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>. 
<p>

<p>Definition at line <a class="el" href="a00347.html#l00124">124</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00049">initialize()</a>, and <a class="el" href="a00346.html#l00095">receiveBBItem()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9f343d30d7a2d07cdd94decb2373fd6e"></a><!-- doxytag: member="BaseUtility::catMove" ref="9f343d30d7a2d07cdd94decb2373fd6e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00022.html#9f343d30d7a2d07cdd94decb2373fd6e">BaseUtility::catMove</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="a00028.html" title="Contains detailed information about the items published using the BB.">BBItem</a> category number of <a class="el" href="a00097.html" title="Class to store object position and movement.">Move</a>. 
<p>

<p>Definition at line <a class="el" href="a00347.html#l00121">121</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00049">initialize()</a>, and <a class="el" href="a00346.html#l00095">receiveBBItem()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9407b9a98a825c1556392ec181d5b2b2"></a><!-- doxytag: member="BaseUtility::clientVector" ref="9407b9a98a825c1556392ec181d5b2b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00022.html#9896292dd411ab2949d08429b6e690e0">ClientVector</a> <a class="el" href="a00022.html#9407b9a98a825c1556392ec181d5b2b2">BaseUtility::clientVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00111">111</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00124">findAndCreateDescription()</a>, <a class="el" href="a00346.html#l00049">initialize()</a>, <a class="el" href="a00346.html#l00241">publishBBItem()</a>, <a class="el" href="a00346.html#l00174">subscribe()</a>, and <a class="el" href="a00346.html#l00223">unsubscribe()</a>.</p>

</div>
</div><p>
<a class="anchor" name="eec15bd75df68ead143f852341d47a89"></a><!-- doxytag: member="BaseUtility::coreDebug" ref="eec15bd75df68ead143f852341d47a89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00022.html#eec15bd75df68ead143f852341d47a89">BaseUtility::coreDebug</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00077">77</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00265">getCategory()</a>, <a class="el" href="a00346.html#l00049">initialize()</a>, <a class="el" href="a00346.html#l00241">publishBBItem()</a>, <a class="el" href="a00346.html#l00174">subscribe()</a>, and <a class="el" href="a00346.html#l00223">unsubscribe()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f6be200acd5124414f6e52bbd6dee8ea"></a><!-- doxytag: member="BaseUtility::hostState" ref="f6be200acd5124414f6e52bbd6dee8ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00071.html">HostState</a> <a class="el" href="a00022.html#f6be200acd5124414f6e52bbd6dee8ea">BaseUtility::hostState</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The hosts current state. 
<p>

<p>Definition at line <a class="el" href="a00347.html#l00127">127</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00347.html#l00163">getHostState()</a>, <a class="el" href="a00346.html#l00049">initialize()</a>, and <a class="el" href="a00346.html#l00095">receiveBBItem()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6b9f3907ab79dc7a09635c6997d66386"></a><!-- doxytag: member="BaseUtility::nextCategory" ref="6b9f3907ab79dc7a09635c6997d66386" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00022.html#6b9f3907ab79dc7a09635c6997d66386">BaseUtility::nextCategory</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00115">115</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00124">findAndCreateDescription()</a>, and <a class="el" href="a00346.html#l00049">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="89c073aa186652a6a79524705e36d6ed"></a><!-- doxytag: member="BaseUtility::parentVector" ref="89c073aa186652a6a79524705e36d6ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00022.html#3bed030811bc98d8cca43604b12d2b13">ParentVector</a> <a class="el" href="a00022.html#89c073aa186652a6a79524705e36d6ed">BaseUtility::parentVector</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00347.html#l00113">113</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00346.html#l00154">fillParentVector()</a>, <a class="el" href="a00346.html#l00124">findAndCreateDescription()</a>, <a class="el" href="a00346.html#l00049">initialize()</a>, and <a class="el" href="a00346.html#l00241">publishBBItem()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e4427b4336a7d9c488bb40d6022f948d"></a><!-- doxytag: member="BaseUtility::pos" ref="e4427b4336a7d9c488bb40d6022f948d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00050.html">Coord</a> <a class="el" href="a00022.html#e4427b4336a7d9c488bb40d6022f948d">BaseUtility::pos</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The position of the Host. This coordinate is synchronized with <a class="el" href="a00018.html" title="Base module for all mobility modules.">BaseMobility</a>. 
<p>Definition at line <a class="el" href="a00347.html#l00083">83</a> of file <a class="el" href="a00347.html">BaseUtility.h</a>.</p>

<p>Referenced by <a class="el" href="a00347.html#l00160">getPos()</a>, and <a class="el" href="a00346.html#l00095">receiveBBItem()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>base/modules/<a class="el" href="a00347.html">BaseUtility.h</a><li>base/modules/<a class="el" href="a00346.html">BaseUtility.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 28 15:57:00 2009 for MiXiM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
