<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MiXiM: BaseModule Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BaseModule Class Reference<br>
<small>
[<a class="el" href="a00309.html">baseModules - base module classes of MiXiM</a>]</small>
</h1><!-- doxytag: class="BaseModule" --><!-- doxytag: inherits="ImNotifiable" -->Base class for all simple modules of a host that want to have access to the <a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a> module.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="a00343.html">BaseModule.h</a>&gt;</code>
<p>
Inherits <a class="el" href="a00072.html">ImNotifiable</a>.
<p>
Inherited by <a class="el" href="a00005.html">BaseArp</a>, <a class="el" href="a00007.html">BaseBattery</a>, <a class="el" href="a00025.html">BatteryAccess</a>, <a class="el" href="a00027.html">BatteryStats</a>, <a class="el" href="a00119.html">RepeatTimerCore</a>, <a class="el" href="a00128.html">SimpleMacLayer</a>, <a class="el" href="a00129.html">SimpleNetwLayer</a>, and <a class="el" href="a00138.html">TimerCore</a>.
<p>
<div class="dynheader">
Collaboration diagram for BaseModule:</div>
<div class="dynsection">
<p><center><img src="a00777.png" border="0" usemap="#a00778" alt="Collaboration graph"></center>
<map name="a00778">
<area shape="rect" href="a00072.html" title="Clients can receive change notifications from the Blackboard via this interface." alt="" coords="13,5,104,32"><area shape="rect" href="a00022.html" title="Provides a blackboard like information distribution." alt="" coords="68,83,151,109"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="a00779.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#32a85543320f15e3852fc15201acd492">BaseModule</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#03030e439aaf030c83da6e71e8be2f80">initialize</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Basic initialization for all modules.  <a href="#03030e439aaf030c83da6e71e8be2f80"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ce4692f0eb43b2d4ca4e46f81b5c77a1">numInitStages</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Divide initialization into two stages.  <a href="#ce4692f0eb43b2d4ca4e46f81b5c77a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#27cef13e3c28ce00c79c0a75a3aa36a6">logName</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get the logging name of the host.  <a href="#27cef13e3c28ce00c79c0a75a3aa36a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">cModule *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#99a4640c49208ce4f3469676ceb7a219">getNode</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a reference to the local node module.  <a href="#99a4640c49208ce4f3469676ceb7a219"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#3dd317df0fd9db2fa074c519471bfeb3">receiveBBItem</a> (int category, const <a class="el" href="a00028.html">BBItem</a> *details, int scopeModuleId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by the Blackboard whenever a change of a category occurs to which we have subscribed. Redefined from <a class="el" href="a00072.html" title="Clients can receive change notifications from the Blackboard via this interface.">ImNotifiable</a>. In this base class just handle the host state switching and some debug notifications.  <a href="#3dd317df0fd9db2fa074c519471bfeb3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#44220aa650488eee8ad121f8bc599265">handleHostState</a> (const <a class="el" href="a00071.html">HostState</a> &amp;state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called whenever the hosts state changes.  <a href="#44220aa650488eee8ad121f8bc599265"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#2edf4477674604a8c2eb2b95e952694a">switchHostState</a> (<a class="el" href="a00071.html#5002302e0f07bbd982c6e5d65eaa9c3c">HostState::States</a> state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Switches the host to the passed state.  <a href="#2edf4477674604a8c2eb2b95e952694a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">cModule *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#abf0226159b22b46e70031fd3bb3b1b2">findHost</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get a pointer to the host module.  <a href="#abf0226159b22b46e70031fd3bb3b1b2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#980026c107039bc5b571e2a46568b734">getLogName</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to get the logging name of id.  <a href="#980026c107039bc5b571e2a46568b734"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00022.html">BaseUtility</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#3f177bbac706fb0113555679dc7c4500">utility</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cached pointer to the utility module.  <a href="#3f177bbac706fb0113555679dc7c4500"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#f32711ea117b066fcd10081a17bb81d4">debug</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debug switch for all other modules.  <a href="#f32711ea117b066fcd10081a17bb81d4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#d2e5c785ee5b988e624a11a9b80e2bce">notAffectedByHostState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores if this module is affected by changes in the hosts state. If not explicitly set this module has to capture changes in the host state.  <a href="#d2e5c785ee5b988e624a11a9b80e2bce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#b5c34173138b2b2fdb091c79473effd2">hostStateCat</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores the category of the <a class="el" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>.  <a href="#b5c34173138b2b2fdb091c79473effd2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#662f36472ead049d2e1c70409fd08242">hostId</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The hosts id.  <a href="#662f36472ead049d2e1c70409fd08242"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for all simple modules of a host that want to have access to the <a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a> module. 
<p>
<a class="el" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> listens for <a class="el" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a> changes broadcasted over <a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a> and calls its own "handleHostState()" method. This method raises an error if the host state changes to something else than ACTIVE. Therefore that a sub-classing module can be used in a simulation where the host state can change it has to override that method which forces the author to make sure the module reacts well to host state changes. Alternatively one can also set a "notAffectedByHostState" parameter of the module to true.<p>
The base module additionally provides a function findHost which returns a pointer to the host module and a function hostIndex to return the index of the host module. The latter one correspondes to the index shown in tkenv and comes in very handy for testing and debugging using tkenv. It is used e.g. in all the 'print' macros used for debugging.<p>
There will never be a stand-alone <a class="el" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> module.<p>
Note: most modules wont derive from <a class="el" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> directly but from its sub class "BatteryAccess" which extends <a class="el" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> by several methods for accessing the battery module.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a> <p>
<a class="el" href="a00025.html" title="Extends BaseModule by several methods which provide access to the battery module...">BatteryAccess</a></dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Steffen Sroka <p>
Andreas Koepke </dd></dl>

<p>Definition at line <a class="el" href="a00343.html#l00078">78</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="32a85543320f15e3852fc15201acd492"></a><!-- doxytag: member="BaseModule::BaseModule" ref="32a85543320f15e3852fc15201acd492" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseModule::BaseModule           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00342.html#l00025">25</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00025"></a>00025                       :
<a name="l00026"></a>00026   cSimpleModule(),
<a name="l00027"></a>00027   <a class="code" href="a00019.html#3f177bbac706fb0113555679dc7c4500" title="Cached pointer to the utility module.">utility</a>(NULL)
<a name="l00028"></a>00028 {}

</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="abf0226159b22b46e70031fd3bb3b1b2"></a><!-- doxytag: member="BaseModule::findHost" ref="abf0226159b22b46e70031fd3bb3b1b2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cModule * BaseModule::findHost           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to get a pointer to the host module. 
<p>

<p>Definition at line <a class="el" href="a00342.html#l00086">86</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>

<p>Referenced by <a class="el" href="a00343.html#l00164">getNode()</a>, <a class="el" href="a00473.html#l00028">SimpleBattery::initialize()</a>, <a class="el" href="a00470.html#l00034">BatteryStats::initialize()</a>, <a class="el" href="a00415.html#l00009">SimpleMacLayer::initialize()</a>, <a class="el" href="a00413.html#l00010">SamplePhyLayer::initialize()</a>, <a class="el" href="a00342.html#l00037">initialize()</a>, <a class="el" href="a00340.html#l00043">BaseMobility::initialize()</a>, <a class="el" href="a00336.html#l00036">BaseLayer::initialize()</a>, <a class="el" href="a00321.html#l00039">ChannelAccess::initialize()</a>, <a class="el" href="a00463.html#l00147">PhyLayer::initializeDecider80211()</a>, <a class="el" href="a00465.html#l00050">PhyLayerBattery::initializeDecider80211Battery()</a>, <a class="el" href="a00463.html#l00153">PhyLayer::initializeSNRThresholdDecider()</a>, <a class="el" href="a00342.html#l00119">logName()</a>, and <a class="el" href="a00350.html#l00015">BatteryAccess::registerWithBattery()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00087"></a>00087 {
<a name="l00088"></a>00088    <span class="keywordflow">return</span> <a class="code" href="a00019.html#abf0226159b22b46e70031fd3bb3b1b2" title="Function to get a pointer to the host module.">FindModule&lt;&gt;::findHost</a>(<span class="keyword">this</span>);
<a name="l00089"></a>00089 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="980026c107039bc5b571e2a46568b734"></a><!-- doxytag: member="BaseModule::getLogName" ref="980026c107039bc5b571e2a46568b734" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string BaseModule::getLogName           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to get the logging name of id. 
<p>
This function returns the logging name of the module with the specified id. It can be used for logging messages to simplify debugging in TKEnv.<p>
Only supports ids from simple module derived from the <a class="el" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> or the nic compound module id.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>Id of the module for the desired logging name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>logging name of module id or NULL if not found </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="a00019.html#27cef13e3c28ce00c79c0a75a3aa36a6" title="Function to get the logging name of the host.">logName</a> </dd></dl>

<p>Definition at line <a class="el" href="a00342.html#l00104">104</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>

<p>References <a class="el" href="a00342.html#l00119">logName()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00105"></a>00105 {
<a name="l00106"></a>00106     <a class="code" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> *mod;
<a name="l00107"></a>00107     std::string lname;
<a name="l00108"></a>00108     mod = check_and_cast&lt;<a class="code" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> *&gt;(simulation.getModule(<span class="keywordtype">id</span>));
<a name="l00109"></a>00109     <span class="keywordflow">if</span> (mod-&gt;isSimple()) {
<a name="l00110"></a>00110         lname = mod-&gt;<a class="code" href="a00019.html#27cef13e3c28ce00c79c0a75a3aa36a6" title="Function to get the logging name of the host.">logName</a>();
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(mod-&gt;getSubmodule(<span class="stringliteral">"phy"</span>)) {
<a name="l00113"></a>00113         lname = check_and_cast&lt;<a class="code" href="a00019.html" title="Base class for all simple modules of a host that want to have access to the BaseUtility...">BaseModule</a> *&gt;(mod-&gt;getSubmodule(<span class="stringliteral">"phy"</span>))-&gt;<a class="code" href="a00019.html#27cef13e3c28ce00c79c0a75a3aa36a6" title="Function to get the logging name of the host.">logName</a>();
<a name="l00114"></a>00114     }
<a name="l00115"></a>00115     <span class="keywordflow">return</span> lname;
<a name="l00116"></a>00116 };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="99a4640c49208ce4f3469676ceb7a219"></a><!-- doxytag: member="BaseModule::getNode" ref="99a4640c49208ce4f3469676ceb7a219" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cModule* BaseModule::getNode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a reference to the local node module. 
<p>

<p>Definition at line <a class="el" href="a00343.html#l00164">164</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>

<p>References <a class="el" href="a00342.html#l00086">findHost()</a>.</p>

<p>Referenced by <a class="el" href="a00419.html#l00077">SimpleNetwLayer::broadcastHelloWorld()</a>, <a class="el" href="a00419.html#l00115">SimpleNetwLayer::handleHelloWorld()</a>, <a class="el" href="a00419.html#l00191">SimpleNetwLayer::handleIncomingJabber()</a>, <a class="el" href="a00382.html#l00007">FrameTimerGenerator::init()</a>, and <a class="el" href="a00419.html#l00159">SimpleNetwLayer::jabberToSomeone()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00164"></a>00164                        {
<a name="l00165"></a>00165       <span class="keywordflow">return</span> <a class="code" href="a00019.html#abf0226159b22b46e70031fd3bb3b1b2" title="Function to get a pointer to the host module.">findHost</a>();
<a name="l00166"></a>00166     };
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="44220aa650488eee8ad121f8bc599265"></a><!-- doxytag: member="BaseModule::handleHostState" ref="44220aa650488eee8ad121f8bc599265" args="(const HostState &amp;state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseModule::handleHostState           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00071.html">HostState</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>state</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called whenever the hosts state changes. 
<p>
Default implementation of this method throws an error whenever the host state changes and the "notAffectedbyHostState" variable is not explicitly set. This is because every module of a host has to make sure to react well to changes in the host state. Or it has to explicitly set its parameter "notAffectedbyHostState" to true. 
<p>Reimplemented in <a class="el" href="a00033.html#844beeae7f5dd04a628538b1b9fead02">BurstApplLayerBattery</a>, <a class="el" href="a00110.html#b687d180a389989e036e158765fe6f29">PhyLayerBattery</a>, and <a class="el" href="a00125.html#ad95dbfe21ea8354b02af1e9b4d387f7">SimpleBattery</a>.</p>

<p>Definition at line <a class="el" href="a00342.html#l00066">66</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>

<p>References <a class="el" href="a00398.html#l00041">HostState::ACTIVE</a>, <a class="el" href="a00398.html#l00061">HostState::get()</a>, and <a class="el" href="a00343.html#l00091">notAffectedByHostState</a>.</p>

<p>Referenced by <a class="el" href="a00342.html#l00057">receiveBBItem()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00067"></a>00067 {
<a name="l00068"></a>00068   <span class="keywordflow">if</span>(<a class="code" href="a00019.html#d2e5c785ee5b988e624a11a9b80e2bce" title="Stores if this module is affected by changes in the hosts state. If not explicitly...">notAffectedByHostState</a>)
<a name="l00069"></a>00069     <span class="keywordflow">return</span>;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071   <span class="keywordflow">if</span>(state.<a class="code" href="a00071.html#3167de707748fd5280fce231d6cbcf90" title="Returns the host state.">get</a>() != <a class="code" href="a00071.html#5002302e0f07bbd982c6e5d65eaa9c3c24022de9465df959797f9b000cb87ad5">HostState::ACTIVE</a>) {
<a name="l00072"></a>00072     error(<span class="stringliteral">"Hosts state changed to something else than active which"</span>
<a name="l00073"></a>00073         <span class="stringliteral">" is not handled by this module. Either handle this state"</span>
<a name="l00074"></a>00074         <span class="stringliteral">" correctly or if this module really isn't affected by the"</span>
<a name="l00075"></a>00075         <span class="stringliteral">" hosts state set the parameter \"notAffectedByHostState\""</span>
<a name="l00076"></a>00076         <span class="stringliteral">" of this module to true."</span>);
<a name="l00077"></a>00077   }
<a name="l00078"></a>00078 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="03030e439aaf030c83da6e71e8be2f80"></a><!-- doxytag: member="BaseModule::initialize" ref="03030e439aaf030c83da6e71e8be2f80" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseModule::initialize           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Basic initialization for all modules. 
<p>
Subscription to Blackboard should be in stage==0, and firing notifications in stage==1 or later.<p>
NOTE: You have to call this in the <a class="el" href="a00019.html#03030e439aaf030c83da6e71e8be2f80" title="Basic initialization for all modules.">initialize()</a> function of the inherited class! 
<p>Reimplemented in <a class="el" href="a00034.html#f4c4d6652f6e3d4846cb3d2e826f4bed">ChannelAccess</a>, <a class="el" href="a00004.html#a3ebaf5d1d1bdbec4648b07f65eb4145">BaseApplLayer</a>, <a class="el" href="a00005.html#424a847f259dbde5a83aa7c30a3a32bd">BaseArp</a>, <a class="el" href="a00016.html#70f5ea30a9980d57b8384faed29ec3eb">BaseLayer</a>, <a class="el" href="a00017.html#61c82dc3b225eac37f7fa9936c28c2c3">BaseMacLayer</a>, <a class="el" href="a00018.html#a89e41596faff0067340643acbab27d0">BaseMobility</a>, <a class="el" href="a00020.html#1e521b5549bfe29ae94d95265c0fe8d2">BaseNetwLayer</a>, <a class="el" href="a00133.html#8df32483962ebc40e1eed225716e54cb">TestApplLayer</a>, <a class="el" href="a00021.html#08704deaf03b73c8eda67cc60e670853">BasePhyLayer</a>, <a class="el" href="a00123.html#51d4997ab7973ee4b174ae49fb9b658f">SamplePhyLayer</a>, <a class="el" href="a00128.html#9a23cdc88daa658398f0bc10ac4ed219">SimpleMacLayer</a>, <a class="el" href="a00129.html#20a43187e836ef7fb9c26a6132b3b77a">SimpleNetwLayer</a>, <a class="el" href="a00032.html#e693c2f1fc343d8c253778a1de1c4082">BurstApplLayer</a>, <a class="el" href="a00033.html#8ccaf74e9a310c5f45447283df6dee7e">BurstApplLayerBattery</a>, <a class="el" href="a00051.html#660262c629f33b00401249d3fdac49be">CSMAMacLayer</a>, <a class="el" href="a00086.html#b81dae24d79c2ef010301e2c219966c1">Mac80211</a>, <a class="el" href="a00002.html#d93ced0c6aa653d8d4018f9ce95e61b1">ANSimMobility</a>, <a class="el" href="a00031.html#e509ee708096dfad9b02bafbf69a79ad">BonnMotionMobility</a>, <a class="el" href="a00038.html#5da791fc2eee9520ae16cd66e3bf3b10">CircleMobility</a>, <a class="el" href="a00049.html#3fbcc5d086c9dfb8c3ac6d80ccbb9625">ConstSpeedMobility</a>, <a class="el" href="a00083.html#62140715094683043b6991fa3de8db4f">LinearMobility</a>, <a class="el" href="a00095.html#2656fd190a68dddb34b37c0d0de3f9de">MassMobility</a>, <a class="el" href="a00117.html#58a5e54bdbbce2fb22beba47d65db2ca">RectangleMobility</a>, <a class="el" href="a00139.html#5dc11ca4b22d7c70f796bf59b4a6ce3d">TractorMobility</a>, <a class="el" href="a00140.html#212749b0f24e8668cbc65703a20f8f7b">TurtleMobility</a>, <a class="el" href="a00110.html#815f95ad9fe89412ff3c5991ec1cfafe">PhyLayerBattery</a>, <a class="el" href="a00027.html#07bebc9788ff9ec28a8b4d3d1473d977">BatteryStats</a>, and <a class="el" href="a00125.html#02f43017e7f375fb12a3299f929f99d3">SimpleBattery</a>.</p>

<p>Definition at line <a class="el" href="a00342.html#l00037">37</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>

<p>References <a class="el" href="a00343.html#l00084">debug</a>, <a class="el" href="a00342.html#l00086">findHost()</a>, <a class="el" href="a00343.html#l00097">hostId</a>, <a class="el" href="a00343.html#l00094">hostStateCat</a>, <a class="el" href="a00343.html#l00091">notAffectedByHostState</a>, <a class="el" href="a00346.html#l00201">BaseUtility::subscribe()</a>, and <a class="el" href="a00343.html#l00081">utility</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00037"></a>00037                                      {
<a name="l00038"></a>00038     <span class="keywordflow">if</span> (stage == 0) {
<a name="l00039"></a>00039       <a class="code" href="a00019.html#d2e5c785ee5b988e624a11a9b80e2bce" title="Stores if this module is affected by changes in the hosts state. If not explicitly...">notAffectedByHostState</a> =  hasPar(<span class="stringliteral">"notAffectedByHostState"</span>)
<a name="l00040"></a>00040                  &amp;&amp; par(<span class="stringliteral">"notAffectedByHostState"</span>).boolValue();
<a name="l00041"></a>00041 
<a name="l00042"></a>00042         hasPar(<span class="stringliteral">"debug"</span>) ? <a class="code" href="a00019.html#f32711ea117b066fcd10081a17bb81d4" title="Debug switch for all other modules.">debug</a> = par(<span class="stringliteral">"debug"</span>).boolValue() : <a class="code" href="a00019.html#f32711ea117b066fcd10081a17bb81d4" title="Debug switch for all other modules.">debug</a> = <span class="keyword">false</span>;
<a name="l00043"></a>00043         <a class="code" href="a00019.html#3f177bbac706fb0113555679dc7c4500" title="Cached pointer to the utility module.">utility</a> = <a class="code" href="a00066.html" title="Provides method templates to find omnet modules.">FindModule&lt;BaseUtility*&gt;::findSubModule</a>(<a class="code" href="a00019.html#abf0226159b22b46e70031fd3bb3b1b2" title="Function to get a pointer to the host module.">findHost</a>());
<a name="l00044"></a>00044 
<a name="l00045"></a>00045         <span class="keywordflow">if</span>(!<a class="code" href="a00019.html#3f177bbac706fb0113555679dc7c4500" title="Cached pointer to the utility module.">utility</a>) {
<a name="l00046"></a>00046           error(<span class="stringliteral">"No BaseUtility module found!"</span>);
<a name="l00047"></a>00047         }
<a name="l00048"></a>00048 
<a name="l00049"></a>00049         <a class="code" href="a00019.html#662f36472ead049d2e1c70409fd08242" title="The hosts id.">hostId</a> = <a class="code" href="a00019.html#abf0226159b22b46e70031fd3bb3b1b2" title="Function to get a pointer to the host module.">findHost</a>()-&gt;getId();
<a name="l00050"></a>00050 
<a name="l00051"></a>00051         <span class="comment">/* host failure notification */</span>
<a name="l00052"></a>00052     <a class="code" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a> hs;
<a name="l00053"></a>00053     <a class="code" href="a00019.html#b5c34173138b2b2fdb091c79473effd2" title="Stores the category of the HostState.">hostStateCat</a> = <a class="code" href="a00019.html#3f177bbac706fb0113555679dc7c4500" title="Cached pointer to the utility module.">utility</a>-&gt;<a class="code" href="a00022.html#15085a1024ff661074352fe3a7ab2ac6">subscribe</a>(<span class="keyword">this</span>, &amp;hs, <a class="code" href="a00019.html#662f36472ead049d2e1c70409fd08242" title="The hosts id.">hostId</a>);
<a name="l00054"></a>00054     }
<a name="l00055"></a>00055 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="27cef13e3c28ce00c79c0a75a3aa36a6"></a><!-- doxytag: member="BaseModule::logName" ref="27cef13e3c28ce00c79c0a75a3aa36a6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string BaseModule::logName           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to get the logging name of the host. 
<p>
The logging name is the ned module name of the host (unless the host ned variable loggingName is specified). It can be used for logging messages to simplify debugging in TKEnv. 
<p>Definition at line <a class="el" href="a00342.html#l00119">119</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>

<p>References <a class="el" href="a00342.html#l00086">findHost()</a>.</p>

<p>Referenced by <a class="el" href="a00342.html#l00104">getLogName()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00120"></a>00120 {
<a name="l00121"></a>00121         std::ostringstream ost;
<a name="l00122"></a>00122   <span class="keywordflow">if</span> (hasPar(<span class="stringliteral">"logName"</span>)) <span class="comment">// let modules override</span>
<a name="l00123"></a>00123   {
<a name="l00124"></a>00124     ost &lt;&lt; par(<span class="stringliteral">"logName"</span>).stringValue();
<a name="l00125"></a>00125   }
<a name="l00126"></a>00126   <span class="keywordflow">else</span>
<a name="l00127"></a>00127   {
<a name="l00128"></a>00128     cModule *parent = <a class="code" href="a00019.html#abf0226159b22b46e70031fd3bb3b1b2" title="Function to get a pointer to the host module.">findHost</a>();
<a name="l00129"></a>00129     parent-&gt;hasPar(<span class="stringliteral">"logName"</span>) ?
<a name="l00130"></a>00130       ost &lt;&lt; parent-&gt;par(<span class="stringliteral">"logName"</span>).stringValue() : ost &lt;&lt; parent-&gt;getName();
<a name="l00131"></a>00131     ost &lt;&lt; <span class="stringliteral">"["</span> &lt;&lt; parent-&gt;getIndex() &lt;&lt; <span class="stringliteral">"]"</span>;
<a name="l00132"></a>00132   }
<a name="l00133"></a>00133   <span class="keywordflow">return</span> ost.str();
<a name="l00134"></a>00134 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ce4692f0eb43b2d4ca4e46f81b5c77a1"></a><!-- doxytag: member="BaseModule::numInitStages" ref="ce4692f0eb43b2d4ca4e46f81b5c77a1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int BaseModule::numInitStages           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Divide initialization into two stages. 
<p>
In the first stage (stage==0), modules subscribe to notification categories at Blackboard. The first notifications (e.g. about the initial values of some variables such as RadioState) should take place earliest in the second stage (stage==1), when everyone interested in them has already subscribed. 
<p>Definition at line <a class="el" href="a00343.html#l00148">148</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00148"></a>00148                                       {
<a name="l00149"></a>00149       <span class="keywordflow">return</span> 2;
<a name="l00150"></a>00150     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3dd317df0fd9db2fa074c519471bfeb3"></a><!-- doxytag: member="BaseModule::receiveBBItem" ref="3dd317df0fd9db2fa074c519471bfeb3" args="(int category, const BBItem *details, int scopeModuleId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseModule::receiveBBItem           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00028.html">BBItem</a> *&nbsp;</td>
          <td class="paramname"> <em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>scopeModuleId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called by the Blackboard whenever a change of a category occurs to which we have subscribed. Redefined from <a class="el" href="a00072.html" title="Clients can receive change notifications from the Blackboard via this interface.">ImNotifiable</a>. In this base class just handle the host state switching and some debug notifications. 
<p>

<p>Implements <a class="el" href="a00072.html#d782c77e2cbed174071ee2711ad27d73">ImNotifiable</a>.</p>

<p>Reimplemented in <a class="el" href="a00034.html#9147a8f70eff0b25bf4bcf0b58a18e94">ChannelAccess</a>, and <a class="el" href="a00027.html#3777b2586a6992988605736316be4af7">BatteryStats</a>.</p>

<p>Definition at line <a class="el" href="a00342.html#l00057">57</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>

<p>References <a class="el" href="a00342.html#l00066">handleHostState()</a>, and <a class="el" href="a00343.html#l00094">hostStateCat</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00057"></a>00057                                                                                      {
<a name="l00058"></a>00058   Enter_Method_Silent();
<a name="l00059"></a>00059 
<a name="l00060"></a>00060   <span class="keywordflow">if</span> (category == <a class="code" href="a00019.html#b5c34173138b2b2fdb091c79473effd2" title="Stores the category of the HostState.">hostStateCat</a>) {
<a name="l00061"></a>00061 
<a name="l00062"></a>00062     <a class="code" href="a00019.html#44220aa650488eee8ad121f8bc599265" title="Called whenever the hosts state changes.">handleHostState</a>(*(<a class="code" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>*)details);
<a name="l00063"></a>00063   }
<a name="l00064"></a>00064 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2edf4477674604a8c2eb2b95e952694a"></a><!-- doxytag: member="BaseModule::switchHostState" ref="2edf4477674604a8c2eb2b95e952694a" args="(HostState::States state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseModule::switchHostState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html#5002302e0f07bbd982c6e5d65eaa9c3c">HostState::States</a>&nbsp;</td>
          <td class="paramname"> <em>state</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Switches the host to the passed state. 
<p>
This is a convenience method for publishing the host state to <a class="el" href="a00022.html" title="Provides a blackboard like information distribution.">BaseUtility</a>.<p>
If the hosts state is switched to anything else than "ACTIVE" every module of the host has to handle this explicitly (see method "handleHostState()")! 
<p>Definition at line <a class="el" href="a00342.html#l00080">80</a> of file <a class="el" href="a00342.html">BaseModule.cc</a>.</p>

<p>References <a class="el" href="a00343.html#l00097">hostId</a>, <a class="el" href="a00343.html#l00094">hostStateCat</a>, <a class="el" href="a00346.html#l00241">BaseUtility::publishBBItem()</a>, and <a class="el" href="a00343.html#l00081">utility</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00081"></a>00081 {
<a name="l00082"></a>00082   <a class="code" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a> hostState(state);
<a name="l00083"></a>00083   <a class="code" href="a00019.html#3f177bbac706fb0113555679dc7c4500" title="Cached pointer to the utility module.">utility</a>-&gt;<a class="code" href="a00022.html#f3e375a774329f553ddc670b737443a5">publishBBItem</a>(<a class="code" href="a00019.html#b5c34173138b2b2fdb091c79473effd2" title="Stores the category of the HostState.">hostStateCat</a>, &amp;hostState, <a class="code" href="a00019.html#662f36472ead049d2e1c70409fd08242" title="The hosts id.">hostId</a>);
<a name="l00084"></a>00084 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="f32711ea117b066fcd10081a17bb81d4"></a><!-- doxytag: member="BaseModule::debug" ref="f32711ea117b066fcd10081a17bb81d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00019.html#f32711ea117b066fcd10081a17bb81d4">BaseModule::debug</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Debug switch for all other modules. 
<p>

<p>Definition at line <a class="el" href="a00343.html#l00084">84</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>

<p>Referenced by <a class="el" href="a00332.html#l00032">BaseArp::getMacAddr()</a>, and <a class="el" href="a00342.html#l00037">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="662f36472ead049d2e1c70409fd08242"></a><!-- doxytag: member="BaseModule::hostId" ref="662f36472ead049d2e1c70409fd08242" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00019.html#662f36472ead049d2e1c70409fd08242">BaseModule::hostId</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The hosts id. 
<p>

<p>Reimplemented in <a class="el" href="a00016.html#9377542e2efeb2cfdd53f54c1ddca418">BaseLayer</a>, and <a class="el" href="a00018.html#c663b084a01319c8a0280b4c71abc773">BaseMobility</a>.</p>

<p>Definition at line <a class="el" href="a00343.html#l00097">97</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>

<p>Referenced by <a class="el" href="a00342.html#l00037">initialize()</a>, and <a class="el" href="a00342.html#l00080">switchHostState()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b5c34173138b2b2fdb091c79473effd2"></a><!-- doxytag: member="BaseModule::hostStateCat" ref="b5c34173138b2b2fdb091c79473effd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00019.html#b5c34173138b2b2fdb091c79473effd2">BaseModule::hostStateCat</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stores the category of the <a class="el" href="a00071.html" title="HostState is published by the battery to announce host failure.">HostState</a>. 
<p>

<p>Reimplemented in <a class="el" href="a00125.html#4af03281b995a051ef37dbea4ee366ed">SimpleBattery</a>.</p>

<p>Definition at line <a class="el" href="a00343.html#l00094">94</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>

<p>Referenced by <a class="el" href="a00342.html#l00037">initialize()</a>, <a class="el" href="a00342.html#l00057">receiveBBItem()</a>, and <a class="el" href="a00342.html#l00080">switchHostState()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d2e5c785ee5b988e624a11a9b80e2bce"></a><!-- doxytag: member="BaseModule::notAffectedByHostState" ref="d2e5c785ee5b988e624a11a9b80e2bce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00019.html#d2e5c785ee5b988e624a11a9b80e2bce">BaseModule::notAffectedByHostState</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stores if this module is affected by changes in the hosts state. If not explicitly set this module has to capture changes in the host state. 
<p>

<p>Definition at line <a class="el" href="a00343.html#l00091">91</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>

<p>Referenced by <a class="el" href="a00342.html#l00066">handleHostState()</a>, and <a class="el" href="a00342.html#l00037">initialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3f177bbac706fb0113555679dc7c4500"></a><!-- doxytag: member="BaseModule::utility" ref="3f177bbac706fb0113555679dc7c4500" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00022.html">BaseUtility</a>* <a class="el" href="a00019.html#3f177bbac706fb0113555679dc7c4500">BaseModule::utility</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Cached pointer to the utility module. 
<p>

<p>Definition at line <a class="el" href="a00343.html#l00081">81</a> of file <a class="el" href="a00343.html">BaseModule.h</a>.</p>

<p>Referenced by <a class="el" href="a00473.html#l00236">SimpleBattery::deductAndCheck()</a>, <a class="el" href="a00465.html#l00086">PhyLayerBattery::handleAirFrame()</a>, <a class="el" href="a00473.html#l00203">SimpleBattery::handleMessage()</a>, <a class="el" href="a00465.html#l00067">PhyLayerBattery::handleUpperMessage()</a>, <a class="el" href="a00473.html#l00028">SimpleBattery::initialize()</a>, <a class="el" href="a00470.html#l00034">BatteryStats::initialize()</a>, <a class="el" href="a00342.html#l00037">initialize()</a>, <a class="el" href="a00340.html#l00043">BaseMobility::initialize()</a>, <a class="el" href="a00336.html#l00036">BaseLayer::initialize()</a>, <a class="el" href="a00321.html#l00039">ChannelAccess::initialize()</a>, <a class="el" href="a00336.html#l00128">BaseLayer::recordPacket()</a>, <a class="el" href="a00342.html#l00080">switchHostState()</a>, and <a class="el" href="a00340.html#l00217">BaseMobility::updatePosition()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>base/modules/<a class="el" href="a00343.html">BaseModule.h</a><li>base/modules/<a class="el" href="a00342.html">BaseModule.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 28 15:56:59 2009 for MiXiM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
