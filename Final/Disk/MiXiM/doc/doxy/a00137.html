<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MiXiM: Timer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Timer Class Reference</h1><!-- doxytag: class="Timer" --><code>#include &lt;<a class="el" href="a00391.html">Timer.h</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for Timer:</div>
<div class="dynsection">
<p><center><img src="a01076.png" border="0" usemap="#a01077" alt="Collaboration graph"></center>
<map name="a01077">
<area shape="rect" href="a00138.html" title="TimerCore" alt="" coords="5,96,85,123"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="a01078.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#5f16e8da27d2a5a5242dead46de05d97">Timer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#d3c95ce902fce977d280256256856d64">~Timer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#9d46776b2427d32bccef9f5e269e21c2">init</a> (cModule *parent)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#76b5ba4272cf874004df188df3c0e441">setTimer</a> (unsigned int index, simtime_t when)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#f232a673873962a27f612e04a39cb0aa">setTimer</a> (simtime_t when)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#e75d188c2e54bd13729fb169515fc0b2">cancelTimer</a> (unsigned int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#8bcecfd99ee6cc01a384c55aa5d3bad4">remainingTimer</a> (unsigned int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#2173406797e96aa63b965e25a9be498e">handleTimer</a> (unsigned int index)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#7c440c3d2acec48d779307d0c8aedea8">setContextPointer</a> (unsigned int index, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#b0fb114ca39fe4d0ab59a3aed9e1544a">contextPointer</a> (unsigned int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#e04f3c2bf90c2ed1db5913e60ae266c1">setContextDestructor</a> (unsigned int index, void(*func)(void *data))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#e5dfc435f33f0c35bac62879184d9f3f">allocateTimers</a> (unsigned int count)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#671ce9068794f13b2f15cdd54119d8bf">deleteTimer</a> (unsigned int index)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00138.html">TimerCore</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">cModule *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#b348cb6f81e788ef92f3a60afa5a970d">owner</a></td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#999e878d75aca57a628ccf8e6ce57364">TimerCore</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="a00391.html#l00039">39</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="5f16e8da27d2a5a5242dead46de05d97"></a><!-- doxytag: member="Timer::Timer" ref="5f16e8da27d2a5a5242dead46de05d97" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Timer::Timer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00047">47</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00043">ct</a>, and <a class="el" href="a00391.html#l00044">owner</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00047"></a>00047 {<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a> = NULL;<a class="code" href="a00137.html#b348cb6f81e788ef92f3a60afa5a970d">owner</a>=NULL;}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d3c95ce902fce977d280256256856d64"></a><!-- doxytag: member="Timer::~Timer" ref="d3c95ce902fce977d280256256856d64" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Timer::~Timer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00048">48</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00043">ct</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00048"></a>00048 {<span class="keyword">delete</span> <a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>;}
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e5dfc435f33f0c35bac62879184d9f3f"></a><!-- doxytag: member="Timer::allocateTimers" ref="e5dfc435f33f0c35bac62879184d9f3f" args="(unsigned int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::allocateTimers           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>count</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00112">112</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00392.html#l00123">TimerCore::allocateTimers()</a>, <a class="el" href="a00391.html#l00128">checkCT()</a>, and <a class="el" href="a00391.html#l00043">ct</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00112"></a>00112 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#75fadb3d88498e31b9abca9f859e5dc9">allocateTimers</a>(count);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e75d188c2e54bd13729fb169515fc0b2"></a><!-- doxytag: member="Timer::cancelTimer" ref="e75d188c2e54bd13729fb169515fc0b2" args="(unsigned int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::cancelTimer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Cancel an existing timer set by <b><a class="el" href="a00137.html#76b5ba4272cf874004df188df3c0e441">setTimer()</a></b> If the timer has not been set, or has already fires, this does nothing Must call <b>initTimers()</b> before using. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td><a class="el" href="a00137.html">Timer</a> to cancel. Must be between 0 and the value given to <b>initTimers()</b> </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="a00391.html#l00076">76</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00392.html#l00058">TimerCore::cancelTimer()</a>, <a class="el" href="a00391.html#l00128">checkCT()</a>, and <a class="el" href="a00391.html#l00043">ct</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00076"></a>00076 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#80a71f2b5260aa27949a147e3bca52a8">cancelTimer</a>(index);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d1875c45ecf8ec7ce710cc7e3b6ad3fe"></a><!-- doxytag: member="Timer::checkCT" ref="d1875c45ecf8ec7ce710cc7e3b6ad3fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::checkCT           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00128">128</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00043">ct</a>.</p>

<p>Referenced by <a class="el" href="a00391.html#l00112">allocateTimers()</a>, <a class="el" href="a00391.html#l00076">cancelTimer()</a>, <a class="el" href="a00391.html#l00099">contextPointer()</a>, <a class="el" href="a00391.html#l00124">deleteTimer()</a>, <a class="el" href="a00391.html#l00082">remainingTimer()</a>, <a class="el" href="a00391.html#l00106">setContextDestructor()</a>, <a class="el" href="a00391.html#l00093">setContextPointer()</a>, and <a class="el" href="a00391.html#l00061">setTimer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00129"></a>00129   {
<a name="l00130"></a>00130     <span class="keywordflow">if</span> (<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a> == NULL)
<a name="l00131"></a>00131       opp_error(<span class="stringliteral">"init() must be called before using Timer functions"</span>);
<a name="l00132"></a>00132   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b0fb114ca39fe4d0ab59a3aed9e1544a"></a><!-- doxytag: member="Timer::contextPointer" ref="b0fb114ca39fe4d0ab59a3aed9e1544a" args="(unsigned int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* Timer::contextPointer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retreive a "context pointer" refering to some piece of opaque useful data <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td><a class="el" href="a00137.html">Timer</a> number </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Opaque pointer from  </dd></dl>

<p>Definition at line <a class="el" href="a00391.html#l00099">99</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00392.html#l00113">TimerCore::contextPointer()</a>, and <a class="el" href="a00391.html#l00043">ct</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00099"></a>00099 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<span class="keywordflow">return</span> <a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#ce137442375abc65840d74ea11fd4db3">contextPointer</a>(index);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="671ce9068794f13b2f15cdd54119d8bf"></a><!-- doxytag: member="Timer::deleteTimer" ref="671ce9068794f13b2f15cdd54119d8bf" args="(unsigned int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::deleteTimer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00124">124</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00391.html#l00043">ct</a>, and <a class="el" href="a00392.html#l00142">TimerCore::deleteTimer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00124"></a>00124 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#a5222be46d94acbf8e8a23844244d72e">deleteTimer</a>(index);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2173406797e96aa63b965e25a9be498e"></a><!-- doxytag: member="Timer::handleTimer" ref="2173406797e96aa63b965e25a9be498e" args="(unsigned int index)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Timer::handleTimer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="a00392.html#l00014">TimerCore::handleMessage()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9d46776b2427d32bccef9f5e269e21c2"></a><!-- doxytag: member="Timer::init" ref="9d46776b2427d32bccef9f5e269e21c2" args="(cModule *parent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::init           </td>
          <td>(</td>
          <td class="paramtype">cModule *&nbsp;</td>
          <td class="paramname"> <em>parent</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Modules using <a class="el" href="a00137.html">Timer</a> should call <a class="el" href="a00137.html#9d46776b2427d32bccef9f5e269e21c2">init()</a> with their "this" pointer, as otherwise other <a class="el" href="a00137.html">Timer</a> functions will fail. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parent</em>&nbsp;</td><td>Timer-using module's "this" pointer </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="a00390.html#l00004">4</a> of file <a class="el" href="a00390.html">Timer.cc</a>.</p>

<p>References <a class="el" href="a00391.html#l00043">ct</a>, <a class="el" href="a00392.html#l00021">TimerCore::init()</a>, and <a class="el" href="a00391.html#l00044">owner</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00005"></a>00005 {
<a name="l00006"></a>00006   <a class="code" href="a00137.html#b348cb6f81e788ef92f3a60afa5a970d">owner</a> = parent;
<a name="l00007"></a>00007   <span class="keywordflow">if</span> (<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>==NULL)
<a name="l00008"></a>00008   {
<a name="l00009"></a>00009     <a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="a00138.html">TimerCore</a>*<span class="keyword">&gt;</span>(cModuleType::get(<span class="stringliteral">"TimerCore"</span>)-&gt;createScheduleInit(<span class="stringliteral">"TimerCore"</span>,<a class="code" href="a00137.html#b348cb6f81e788ef92f3a60afa5a970d">owner</a>));
<a name="l00010"></a>00010     <a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#93ca5fca6ebc0721043a69a3cc83e9a9">init</a>(<span class="keyword">this</span>);
<a name="l00011"></a>00011   }
<a name="l00012"></a>00012 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8bcecfd99ee6cc01a384c55aa5d3bad4"></a><!-- doxytag: member="Timer::remainingTimer" ref="8bcecfd99ee6cc01a384c55aa5d3bad4" args="(unsigned int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Timer::remainingTimer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fires on expiration of a timer. Fires after a call to <b><a class="el" href="a00137.html#76b5ba4272cf874004df188df3c0e441">setTimer()</a></b>. Subclasses should override this. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td><a class="el" href="a00137.html">Timer</a> number that fired. Will be between 0 and the value given to <b>initTimers()</b> </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="a00391.html#l00082">82</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00391.html#l00043">ct</a>, and <a class="el" href="a00392.html#l00066">TimerCore::remainingTimer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00082"></a>00082 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<span class="keywordflow">return</span> <a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#dd07fb2b29fe3f84f133603573f03387">remainingTimer</a>(index);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e04f3c2bf90c2ed1db5913e60ae266c1"></a><!-- doxytag: member="Timer::setContextDestructor" ref="e04f3c2bf90c2ed1db5913e60ae266c1" args="(unsigned int index, void(*func)(void *data))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::setContextDestructor           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *data)&nbsp;</td>
          <td class="paramname"> <em>func</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provide a destructor function for a "context pointer" such that we can do complete cleanup even if there are still timers remaining at the end of a simulation. Called on end of sim for still scheduled timers. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td><a class="el" href="a00137.html">Timer</a> number </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="a00391.html#l00106">106</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00391.html#l00043">ct</a>, and <a class="el" href="a00392.html#l00075">TimerCore::setContextDestructor()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00106"></a>00106 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#6021d86b056453796b6c2f66ecec6ea6">setContextDestructor</a>(index,func);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7c440c3d2acec48d779307d0c8aedea8"></a><!-- doxytag: member="Timer::setContextPointer" ref="7c440c3d2acec48d779307d0c8aedea8" args="(unsigned int index, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::setContextPointer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set a "context pointer" refering to some piece of opaque useful data <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td><a class="el" href="a00137.html">Timer</a> number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Opaque pointer. Never free'd or dereferenced </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="a00391.html#l00093">93</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00391.html#l00043">ct</a>, and <a class="el" href="a00392.html#l00103">TimerCore::setContextPointer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#4c7e3a0e01131b2dfbd881a7bb457599">setContextPointer</a>(index,data);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f232a673873962a27f612e04a39cb0aa"></a><!-- doxytag: member="Timer::setTimer" ref="f232a673873962a27f612e04a39cb0aa" args="(simtime_t when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Timer::setTimer           </td>
          <td>(</td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>when</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set a timer to fire at a point in the future. Auto-generates a timer id. This will not be an id allocated to any other existing timer (either running or finished) but may be an id from a timer deleted by deleteTimer. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>when</em>&nbsp;</td><td>Time in seconds in the future to fire the timer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="a00137.html">Timer</a> id </dd></dl>

<p>Definition at line <a class="el" href="a00391.html#l00069">69</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00391.html#l00043">ct</a>, and <a class="el" href="a00392.html#l00037">TimerCore::setTimer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00069"></a>00069 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<span class="keywordflow">return</span> <a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#b8cda9efda31e457c52cb35df35358f1">setTimer</a>(when);}
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="76b5ba4272cf874004df188df3c0e441"></a><!-- doxytag: member="Timer::setTimer" ref="76b5ba4272cf874004df188df3c0e441" args="(unsigned int index, simtime_t when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Timer::setTimer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>when</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set a timer to fire at a point in the future. If the timer with that id has already been set then this discards the old information. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td><a class="el" href="a00137.html">Timer</a> number to set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>when</em>&nbsp;</td><td>Time in seconds in the future to fire the timer </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="a00391.html#l00061">61</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>References <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00391.html#l00043">ct</a>, and <a class="el" href="a00392.html#l00037">TimerCore::setTimer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00061"></a>00061 {<a class="code" href="a00137.html#d1875c45ecf8ec7ce710cc7e3b6ad3fe">checkCT</a>();<a class="code" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">ct</a>-&gt;<a class="code" href="a00138.html#b8cda9efda31e457c52cb35df35358f1">setTimer</a>(index,when);}
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="999e878d75aca57a628ccf8e6ce57364"></a><!-- doxytag: member="Timer::TimerCore" ref="999e878d75aca57a628ccf8e6ce57364" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a00138.html">TimerCore</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00041">41</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="bccf4d90fa255618cb4cef4b7273cb02"></a><!-- doxytag: member="Timer::ct" ref="bccf4d90fa255618cb4cef4b7273cb02" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00138.html">TimerCore</a>* <a class="el" href="a00137.html#bccf4d90fa255618cb4cef4b7273cb02">Timer::ct</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00043">43</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>Referenced by <a class="el" href="a00391.html#l00112">allocateTimers()</a>, <a class="el" href="a00391.html#l00076">cancelTimer()</a>, <a class="el" href="a00391.html#l00128">checkCT()</a>, <a class="el" href="a00391.html#l00099">contextPointer()</a>, <a class="el" href="a00391.html#l00124">deleteTimer()</a>, <a class="el" href="a00390.html#l00004">init()</a>, <a class="el" href="a00391.html#l00082">remainingTimer()</a>, <a class="el" href="a00391.html#l00106">setContextDestructor()</a>, <a class="el" href="a00391.html#l00093">setContextPointer()</a>, <a class="el" href="a00391.html#l00061">setTimer()</a>, <a class="el" href="a00391.html#l00047">Timer()</a>, and <a class="el" href="a00391.html#l00048">~Timer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b348cb6f81e788ef92f3a60afa5a970d"></a><!-- doxytag: member="Timer::owner" ref="b348cb6f81e788ef92f3a60afa5a970d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cModule* <a class="el" href="a00137.html#b348cb6f81e788ef92f3a60afa5a970d">Timer::owner</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="a00391.html#l00044">44</a> of file <a class="el" href="a00391.html">Timer.h</a>.</p>

<p>Referenced by <a class="el" href="a00390.html#l00004">init()</a>, and <a class="el" href="a00391.html#l00047">Timer()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>base/timers/<a class="el" href="a00391.html">Timer.h</a><li>base/timers/<a class="el" href="a00390.html">Timer.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 28 15:57:10 2009 for MiXiM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
